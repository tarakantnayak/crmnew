(function(){'use strict';//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var N=Math.round,P=Math.floor;function e(e,t){var a=j?t.media||"default":e,i=J[a]||(J[a]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var o=t.source;if(t.map&&(o+="\n/*# sourceURL="+t.map.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),void 0===F&&(F=document.head||document.getElementsByTagName("head")[0]),F.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(o),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var r=i.ids.size-1,s=document.createTextNode(o),n=i.element.childNodes;n[r]&&i.element.removeChild(n[r]),n.length?i.element.insertBefore(s,n[r]):i.element.appendChild(s)}}}// shim for using process in browser
// based off https://github.com/defunctzombie/node-process/blob/master/browser.js
function t(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(a){if(ee===setTimeout)//normal enviroments in sane situations
return setTimeout(a,0);// if setTimeout wasn't available but was latter defined
if((ee===t||!ee)&&setTimeout)return ee=setTimeout,setTimeout(a,0);try{// when when somebody has screwed with setTimeout but no I.E. maddness
return ee(a,0)}catch(t){try{// When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
return ee.call(null,a,0)}catch(t){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
return ee.call(this,a,0)}}}function r(t){if(te===clearTimeout)//normal enviroments in sane situations
return clearTimeout(t);// if clearTimeout wasn't available but was latter defined
if((te===a||!te)&&clearTimeout)return te=clearTimeout,clearTimeout(t);try{// when when somebody has screwed with setTimeout but no I.E. maddness
return te(t)}catch(a){try{// When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
return te.call(null,t)}catch(a){// same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
// Some versions of I.E. have different rules for clearTimeout vs setTimeout
return te.call(this,t)}}}function s(){oe&&ae&&(oe=!1,ae.length?ie=ae.concat(ie):re=-1,ie.length&&n())}function n(){if(!oe){var e=o(s);oe=!0;for(var t=ie.length;t;){for(ae=ie,ie=[];++re<t;)ae&&ae[re].run();re=-1,t=ie.length}ae=null,oe=!1,r(e)}}function c(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];ie.push(new d(e,t)),1!==ie.length||oe||o(n)}// v8 likes predictible objects
function d(e,t){this.fun=e,this.array=t}function l(){}/**
   * vuex v3.1.1
   * (c) 2019 Evan You
   * @license MIT
   */function m(e){/**
     * Vuex init hook, injected into each instances init hooks list.
     */function t(){var e=this.$options;// store injection
e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}var a=+e.version.split(".")[0];if(2<=a)e.mixin({beforeCreate:t});else{// override init and inject vuex init procedure
// for 1.x backwards compatibility.
var i=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[t].concat(e.init):t,i.call(this,e)}}}function p(e){le&&(e._devtoolHook=le,le.emit("vuex:init",e),le.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){le.emit("vuex:mutation",e,t)}))}/**
   * Get the first item that pass the test
   * by second argument function
   *
   * @param {Array} list
   * @param {Function} f
   * @return {*}
   */ /**
   * forEach for object
   */function u(e,t){Object.keys(e).forEach(function(a){return t(e[a],a)})}function g(e){return null!==e&&"object"==typeof e}function h(e){return e&&"function"==typeof e.then}function v(e,t){if(!e)throw new Error("[vuex] "+t)}function f(e,t){return function(){return e(t)}}// Base data struct for store's module, package with some attribute and method
function _(e,t,a){// update nested modules
if(w(e,a),t.update(a),a.modules)for(var i in a.modules){if(!t.getChild(i))return void console.warn("[vuex] trying to add a new module '"+i+"' on hot reloading, manual reload is needed");_(e.concat(i),t.getChild(i),a.modules[i])}}function w(e,t){Object.keys(ve).forEach(function(a){if(t[a]){var i=ve[a];u(t[a],function(t,o){v(i.assert(t),b(e,a,o,t,i.expected))})}})}function b(e,t,a,i,o){var r=t+" should be "+o+" but \""+t+"."+a+"\"";return 0<e.length&&(r+=" in module \""+e.join(".")+"\""),r+=" is "+JSON.stringify(i)+".",r}function y(e,t){return 0>t.indexOf(e)&&t.push(e),function(){var a=t.indexOf(e);-1<a&&t.splice(a,1)}}function x(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var a=e.state;// init all modules
// reset vm
C(e,a,[],e._modules.root,!0),k(e,a,t)}function k(e,t,a){var i=e._vm;// bind store public getters
e.getters={};var o=e._wrappedGetters,r={};u(o,function(t,a){// use computed to leverage its lazy-caching mechanism
// direct inline function use will lead to closure preserving oldVm.
// using partial to return function with only arguments preserved in closure enviroment.
r[a]=f(t,e),Object.defineProperty(e.getters,a,{get:function(){return e._vm[a]},enumerable:!0// for local getters
})});// use a Vue instance to store the state tree
// suppress warnings just in case the user has added
// some funky global mixins
var s=ge.config.silent;ge.config.silent=!0,e._vm=new ge({data:{$$state:t},computed:r}),ge.config.silent=s,e.strict&&E(e),i&&(a&&e._withCommit(function(){i._data.$$state=null}),ge.nextTick(function(){return i.$destroy()}))}function C(e,t,a,i,o){var r=!a.length,s=e._modules.getNamespace(a);// set state
if(i.namespaced&&(e._modulesNamespaceMap[s]=i),!r&&!o){var n=A(t,a.slice(0,-1)),c=a[a.length-1];e._withCommit(function(){ge.set(n,c,i.state)})}var d=i.context=q(e,s,a);i.forEachMutation(function(t,a){z(e,s+a,t,d)}),i.forEachAction(function(t,a){var i=t.root?a:s+a,o=t.handler||t;D(e,i,o,d)}),i.forEachGetter(function(t,a){R(e,s+a,t,d)}),i.forEachChild(function(i,r){C(e,t,a.concat(r),i,o)})}/**
   * make localized dispatch, commit, getters and state
   * if there is no namespace, just use root ones
   */function q(e,t,a){var i=""===t,o={dispatch:i?e.dispatch:function(a,i,o){var r=L(a,i,o),s=r.payload,n=r.options,c=r.type;return n&&n.root||(c=t+c,!!e._actions[c])?e.dispatch(c,s):void console.error("[vuex] unknown local action type: "+r.type+", global type: "+c)},commit:i?e.commit:function(a,i,o){var r=L(a,i,o),s=r.payload,n=r.options,c=r.type;return n&&n.root||(c=t+c,!!e._mutations[c])?void e.commit(c,s,n):void console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+c)}};return Object.defineProperties(o,{getters:{get:i?function(){return e.getters}:function(){return S(e,t)}},state:{get:function(){return A(e.state,a)}}}),o}function S(e,t){var a={},i=t.length;return Object.keys(e.getters).forEach(function(o){// skip if the target getter is not match this namespace
if(o.slice(0,i)===t){// extract local getter type
var r=o.slice(i);// Add a port to the getters proxy.
// Define as getter property because
// we do not want to evaluate the getters in this time.
Object.defineProperty(a,r,{get:function(){return e.getters[o]},enumerable:!0})}}),a}function z(e,t,a,i){var o=e._mutations[t]||(e._mutations[t]=[]);o.push(function(t){a.call(e,i.state,t)})}function D(e,t,a,i){var o=e._actions[t]||(e._actions[t]=[]);o.push(function(t,o){var r=a.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t,o);return h(r)||(r=Promise.resolve(r)),e._devtoolHook?r.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):r})}function R(e,t,a,i){return e._wrappedGetters[t]?void console.error("[vuex] duplicate getter key: "+t):void(e._wrappedGetters[t]=function(e){return a(i.state,// local state
i.getters,// local getters
e.state,// root state
e.getters// root getters
)})}function E(e){e._vm.$watch(function(){return this._data.$$state},function(){v(e._committing,"do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function A(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function L(e,t,a){return g(e)&&e.type&&(a=t,t=e,e=e.type),v("string"==typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:a}}function T(e){return ge&&e===ge?void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):void(ge=e,m(ge))}/**
   * Reduce the code which written in Vue.js for getting the state.
   * @param {String} [namespace] - Module's namespace
   * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.
   * @param {Object}
   */ /**
   * Normalize the map
   * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]
   * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]
   * @param {Array|Object} map
   * @return {Object}
   */function B(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}/**
   * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.
   * @param {Function} fn
   * @return {Function}
   */function I(e){return function(t,a){return"string"==typeof t?"/"!==t.charAt(t.length-1)&&(t+="/"):(a=t,t=""),e(t,a)}}/**
   * Search a special module from store by namespace. if module not exist, print error message.
   * @param {Object} store
   * @param {String} helper
   * @param {String} namespace
   * @return {Object}
   */function M(e,t,a){var i=e._modulesNamespaceMap[a];return i||console.error("[vuex] module namespace not found in "+t+"(): "+a),i}var H={name:"Icon",props:{icon:{type:String,required:!0},size:{type:String,required:!1}}},O=function(e,t,a,i,o,r/* server only */,s,n,c,d){"boolean"!=typeof s&&(c=n,n=s,s=!1);// Vue.extend constructor export interop.
var l="function"==typeof a?a.options:a;// render functions
e&&e.render&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),i&&(l._scopeId=i);var m;if(r?(m=function(e){e=e||// cached call
this.$vnode&&this.$vnode.ssrContext||// stateful
this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=m):t&&(m=s?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,n(e))}),m)if(l.functional){// register for functional component in vue file
var p=l.render;l.render=function(e,t){return m.call(t),p(e,t)}}else{// inject component registration as beforeCreate hook
var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,m):[m]}return a};/* style inject */ /* style inject SSR */var K=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex"},[/^mdi|^fa/.test(e.icon)?a("q-icon",{attrs:{name:e.icon,size:e.size,dense:""}}):e.icon.includes("/")?a("q-avatar",{attrs:{size:e.size}},[a("q-img",{attrs:{src:e.icon}})],1):a("q-icon",{class:[e.icon,"q-icon"],style:{"font-size":e.size?e.size:"1.4em"}})],1)},staticRenderFns:[]},void 0,H,"data-v-0b96e5c5",!1,void 0,void 0,void 0),G={name:"IconInfo",props:{customOptions:{type:Object,default:()=>({})}},data(){return{searchInfoShow:!1,options:{iconSize:"inherit",tooltipFont:"14px",backgroundClass:"bg-primary"},tooltipId:`tooltip-id-${Quasar.utils.uid()}`}},created(){this.options=Object.assign(this.options,this.customOptions),document.addEventListener("click",t=>{!this.searchInfoShow||t.target.offsetParent.classList.contains(this.tooltipId)||t.target.classList.contains(this.tooltipId)||(this.searchInfoShow=!1)})}};//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* style inject */ /* style inject SSR */var F,X=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex"},[a("q-icon",{class:["cursor-pointer",e.tooltipId],style:"font-size: "+e.options.iconSize+";",attrs:{name:e.searchInfoShow?"mdi-information":"mdi-information-outline"},on:{click:function(t){t.preventDefault(),e.searchInfoShow=!e.searchInfoShow}}}),e._v(" "),a("div",[a("q-tooltip",{attrs:{"content-style":"font-size: "+e.options.tooltipFont,"content-class":[e.options.backgroundClass,e.tooltipId,"all-pointer-events"]},model:{value:e.searchInfoShow,callback:function(t){e.searchInfoShow=t},expression:"searchInfoShow"}},[e._t("default")],2)],1)],1)},staticRenderFns:[]},void 0,G,"data-v-2f8d7154",!1,void 0,void 0,void 0),Y={name:"ColumnsGrid",props:{columnBlocks:{type:Array,required:!0}}},j="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),J={},W=function(){return function(t,a){return e(t,a)}};//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* style inject SSR */var V=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns-grid__container",style:{"-webkit-column-count":e.columnBlocks.length,"-moz-column-count":e.columnBlocks.length,"column-count":e.columnBlocks.length}},[e._l(e.columnBlocks,function(t){return[a("div",{key:t,staticClass:"columns-grid__block"},[e._t("default",null,{relatedBlock:t})],2)]})],2)},staticRenderFns:[]},function(e){e&&e("data-v-09b7f7b4_0",{source:".columns-grid__container[data-v-09b7f7b4]{-webkit-column-width:27rem;-moz-column-width:27rem;column-width:27rem}.columns-grid__block[data-v-09b7f7b4]{width:100%;padding-bottom:16px;-webkit-column-break-inside:avoid;page-break-inside:avoid;break-inside:avoid-column}",map:void 0,media:void 0})},Y,"data-v-09b7f7b4",!1,void 0,W,void 0),U={name:"Carousel",data(){return{slide:0,height:"90vh",report:0,fullscreen:!1}},props:{record:{type:Object,required:!0}},watch:{fullscreen:function(e){e?this.$q.fullscreen.request():this.$q.fullscreen.exit()},"$q.fullscreen.isActive"(e){this.fullscreen=e}},methods:{onTransition(e){$(this.$refs.carousel.$el).find("img").css("max-width",$(this.$refs.carousel.$el).width()-17)}}};//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* style inject SSR */var Z=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-carousel",{ref:"carousel",class:["quasar-reset shadow-1 rounded-borders",e.fullscreen?"":"carousel-height"],attrs:{"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"black",navigation:"",padding:"",arrows:"",fullscreen:e.fullscreen},on:{"update:fullscreen":function(t){e.fullscreen=t},transition:e.onTransition},scopedSlots:e._u([{key:"control",fn:function(){return[a("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:e.fullscreen?"mdi-fullscreen-exit":"mdi-fullscreen"},on:{click:function(){e.fullscreen=!e.fullscreen}}})],1)]},proxy:!0}]),model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.record.content,function(t,i){return a("q-carousel-slide",{key:i,staticClass:"column no-wrap flex-center",attrs:{name:i,fullscreen:e.fullscreen},on:{"update:fullscreen":function(t){e.fullscreen=t}}},[a("div",{staticClass:"full-height",domProps:{innerHTML:e._s(t)}})])}),1)],1)},staticRenderFns:[]},function(e){e&&e("data-v-6f0e6d9b_0",{source:".carousel-height[data-v-6f0e6d9b]{height:max-content;min-height:calc(100vh - 31.14px)}",map:void 0,media:void 0})},U,"data-v-6f0e6d9b",!1,void 0,W,void 0),Q="undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,ee=t,te=a;"function"==typeof Q.setTimeout&&(ee=setTimeout),"function"==typeof Q.clearTimeout&&(te=clearTimeout);var ae,ie=[],oe=!1,re=-1;d.prototype.run=function(){this.fun.apply(null,this.array)};var se=Q.performance||{},ne=se.now||se.mozNow||se.msNow||se.oNow||se.webkitNow||function(){return new Date().getTime()},ce=new Date,de="undefined"==typeof window?"undefined"==typeof Q?{}:Q:window,le=de.__VUE_DEVTOOLS_GLOBAL_HOOK__,me=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var a=e.state;// Store the origin module's state
this.state=("function"==typeof a?a():a)||{}},pe={namespaced:{configurable:!0}};pe.namespaced.get=function(){return!!this._rawModule.namespaced},me.prototype.addChild=function(e,t){this._children[e]=t},me.prototype.removeChild=function(e){delete this._children[e]},me.prototype.getChild=function(e){return this._children[e]},me.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},me.prototype.forEachChild=function(e){u(this._children,e)},me.prototype.forEachGetter=function(e){this._rawModule.getters&&u(this._rawModule.getters,e)},me.prototype.forEachAction=function(e){this._rawModule.actions&&u(this._rawModule.actions,e)},me.prototype.forEachMutation=function(e){this._rawModule.mutations&&u(this._rawModule.mutations,e)},Object.defineProperties(me.prototype,pe);var ue=function(e){// register root module (Vuex.Store options)
this.register([],e,!1)};ue.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},ue.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,a){return t=t.getChild(a),e+(t.namespaced?a+"/":"")},"")},ue.prototype.update=function(e){_([],this.root,e)},ue.prototype.register=function(e,t,a){var i=this;void 0===a&&(a=!0),w(e,t);var o=new me(t,a);if(0===e.length)this.root=o;else{var r=this.get(e.slice(0,-1));r.addChild(e[e.length-1],o)}// register nested modules
t.modules&&u(t.modules,function(t,o){i.register(e.concat(o),t,a)})},ue.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),a=e[e.length-1];t.getChild(a).runtime&&t.removeChild(a)};var ge,he={assert:function(e){return"function"==typeof e},expected:"function"},ve={getters:he,mutations:he,actions:{assert:function(e){return"function"==typeof e||"object"==typeof e&&"function"==typeof e.handler},expected:"function or object with \"handler\" function"}},fe=function e(t){var a=this;void 0===t&&(t={}),!ge&&"undefined"!=typeof window&&window.Vue&&T(window.Vue),v(ge,"must call Vue.use(Vuex) before creating a store instance."),v("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser."),v(this instanceof e,"store must be called with the new operator.");var i=t.plugins;void 0===i&&(i=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ue(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new ge;// bind commit and dispatch to self
var r=this,s=this,n=s.dispatch,c=s.commit;this.dispatch=function(e,t){return n.call(r,e,t)},this.commit=function(e,t,a){return c.call(r,e,t,a)},this.strict=o;var d=this._modules.root.state;// init root module.
// this also recursively registers all sub-modules
// and collects all module getters inside this._wrappedGetters
C(this,d,[],this._modules.root),k(this,d),i.forEach(function(e){return e(a)});var l=t.devtools===void 0?ge.config.devtools:t.devtools;l&&p(this)},_e={state:{configurable:!0}};_e.state.get=function(){return this._vm._data.$$state},_e.state.set=function(){v(!1,"use store.replaceState() to explicit replace store state.")},fe.prototype.commit=function(e,t,a){var i=this,o=L(e,t,a),r=o.type,s=o.payload,n=o.options,c={type:r,payload:s},d=this._mutations[r];// check object-style commit
return d?void(this._withCommit(function(){d.forEach(function(e){e(s)})}),this._subscribers.forEach(function(e){return e(c,i.state)}),n&&n.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools")):void console.error("[vuex] unknown mutation type: "+r)},fe.prototype.dispatch=function(e,t){var a=this,i=L(e,t),o=i.type,r=i.payload,s={type:o,payload:r},n=this._actions[o];// check object-style dispatch
if(!n)return void console.error("[vuex] unknown action type: "+o);try{this._actionSubscribers.filter(function(e){return e.before}).forEach(function(e){return e.before(s,a.state)})}catch(t){console.warn("[vuex] error in before action subscribers: "),console.error(t)}var c=1<n.length?Promise.all(n.map(function(e){return e(r)})):n[0](r);return c.then(function(e){try{a._actionSubscribers.filter(function(e){return e.after}).forEach(function(e){return e.after(s,a.state)})}catch(t){console.warn("[vuex] error in after action subscribers: "),console.error(t)}return e})},fe.prototype.subscribe=function(e){return y(e,this._subscribers)},fe.prototype.subscribeAction=function(e){var t="function"==typeof e?{before:e}:e;return y(t,this._actionSubscribers)},fe.prototype.watch=function(e,t,a){var i=this;return v("function"==typeof e,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return e(i.state,i.getters)},t,a)},fe.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},fe.prototype.registerModule=function(e,t,a){// reset store to update getters...
void 0===a&&(a={}),"string"==typeof e&&(e=[e]),v(Array.isArray(e),"module path must be a string or an Array."),v(0<e.length,"cannot register the root module by using registerModule."),this._modules.register(e,t),C(this,this.state,e,this._modules.get(e),a.preserveState),k(this,this.state)},fe.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),v(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var a=A(t.state,e.slice(0,-1));ge.delete(a,e[e.length-1])}),x(this)},fe.prototype.hotUpdate=function(e){this._modules.update(e),x(this,!0)},fe.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(fe.prototype,_e);var we=I(function(e,t){var a={};return B(t).forEach(function(t){var i=t.key,o=t.val;a[i]=function(){var t=this.$store.state,a=this.$store.getters;if(e){var i=M(this.$store,"mapState",e);if(!i)return;t=i.context.state,a=i.context.getters}return"function"==typeof o?o.call(this,t,a):t[o]},a[i].vuex=!0}),a}),be=I(function(e,t){var a={};return B(t).forEach(function(t){var i=t.key,o=t.val;a[i]=function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];// Get the commit method from store
var i=this.$store.commit;if(e){var r=M(this.$store,"mapMutations",e);if(!r)return;i=r.context.commit}return"function"==typeof o?o.apply(this,[i].concat(t)):i.apply(this.$store,[o].concat(t))}}),a}),ye=I(function(e,t){var a={};return B(t).forEach(function(t){var i=t.key,o=t.val;o=e+o,a[i]=function(){return e&&!M(this.$store,"mapGetters",e)?void 0:o in this.$store.getters?this.$store.getters[o]:void console.error("[vuex] unknown getter: "+o)},a[i].vuex=!0}),a}),xe=I(function(e,t){var a={};return B(t).forEach(function(t){var i=t.key,o=t.val;a[i]=function(){for(var t=[],a=arguments.length;a--;)t[a]=arguments[a];// get dispatch function from store
var i=this.$store.dispatch;if(e){var r=M(this.$store,"mapActions",e);if(!r)return;i=r.context.dispatch}return"function"==typeof o?o.apply(this,[i].concat(t)):i.apply(this.$store,[o].concat(t))}}),a}),ke=function(e){return{mapState:we.bind(null,e),mapGetters:ye.bind(null,e),mapMutations:be.bind(null,e),mapActions:xe.bind(null,e)}},Ce={Store:fe,install:T,version:"3.1.1",mapState:we,mapMutations:be,mapGetters:ye,mapActions:xe,createNamespacedHelpers:ke};/**
   * Reduce the code which written in Vue.js for committing the mutation
   * @param {String} [namespace] - Module's namespace
   * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept anthor params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.
   * @return {Object}
   */ //
const{mapGetters:qe,mapActions:Se}=ke("KnowledgeBase");var ze={name:"ArticlesList",components:{Icon:K},props:{data:{type:Array,default:[]},title:{type:String,default:""}},data(){return{pagination:{rowsPerPage:0},columns:[{name:"desc",required:!0,label:"Title",align:"left",field:e=>e.subject,format:e=>`${e}`,sortable:!0},{name:"short_time",align:"center",label:"Short time",field:"short_time",sortable:!0},{name:"introduction",align:"center",label:"Introduction",field:"introduction",sortable:!0}]}},computed:{...qe(["tree","iconSize","moduleName"]),hasData(){return this.data.length}},methods:{...Se(["fetchRecord"]),onClickRecord(e){this.fetchRecord(e).then(()=>{this.$emit("onClickRecord",e)})}}};/* script */ /* style inject SSR */var De=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"KnowledgeBase__ArticlesList"},[a("q-table",{attrs:{data:e.data,columns:e.columns,"row-key":"subject",grid:"","hide-header":"",pagination:e.pagination,title:e.title},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[a("q-list",{staticClass:"full-width",attrs:{padding:""},on:{click:function(a){return a.preventDefault(),e.onClickRecord(t.row.id)}}},[a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-text"}})],1),e._v(" "),a("q-item-section",[a("q-item-label",{staticClass:"text-primary"},[a("a",{staticClass:"js-popover-tooltip--record",attrs:{href:"index.php?module="+e.moduleName+"&view=Detail&record="+t.row.id}},[e._v("\n                "+e._s(t.row.subject)+"\n              ")])]),e._v(" "),a("q-item-label",{staticClass:"flex items-center",attrs:{overline:""}},[a("q-breadcrumbs",{staticClass:"mr-2 text-grey-8",attrs:{"active-color":"grey-8"}},[e._l(e.tree.categories[t.row.category].parentTree,function(t){return a("q-breadcrumbs-el",{key:e.tree.categories[t].label},[e.tree.categories[t].icon?a("icon",{staticClass:"q-mr-sm",attrs:{size:e.iconSize,icon:e.tree.categories[t].icon}}):e._e(),e._v("\n                  "+e._s(e.tree.categories[t].label)+"\n                ")],1)}),e._v(" "),a("q-tooltip",[e._v("\n                  "+e._s(e.translate("JS_KB_CATEGORY"))+"\n                ")])],2),e._v("\n              | "+e._s(e.translate("JS_KB_AUTHORED_BY"))+":\n              "),a("span",{staticClass:"q-ml-sm",domProps:{innerHTML:e._s(t.row.assigned_user_id)}})],1),e._v(" "),a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.row.introduction))])],1),e._v(" "),a("q-item-section",{attrs:{side:"",top:""}},[a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.row.short_time))]),e._v(" "),a("q-tooltip",[e._v("\n              "+e._s(t.row.full_time)+"\n            ")])],1)],1)],1)]}},{key:"bottom",fn:function(){}}])}),e._v(" "),a("div",{class:["flex items-center q-px-lg q-py-sm",e.hasData?"hidden":""]},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-alert-outline"}}),e._v("\n    "+e._s(e.translate("JS_NO_RESULTS_FOUND"))+"\n  ")],1)],1)},staticRenderFns:[]},function(e){e&&e("data-v-7acefe6e_0",{source:".KnowledgeBase__ArticlesList .q-table__bottom{display:none!important}",map:void 0,media:void 0})},ze,void 0,!1,void 0,W,void 0);const Re=8,Ee={y:{t:"top",m:"marginTop",b:"bottom"},x:{l:"left",m:"marginLeft",r:"right"}};var Ae={name:"vue-drag-resize",props:{parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},snapToGrid:{type:Boolean,default:!1},gridX:{type:Number,default:50,validator:function(e){return 0<e}},gridY:{type:Number,default:50,validator:function(e){return 0<e}},parentW:{type:Number,default:0,validator:function(e){return 0<=e}},parentH:{type:Number,default:0,validator:function(e){return 0<=e}},w:{type:Number,default:100,validator:function(e){return 0<e}},h:{type:Number,default:100,validator:function(e){return 0<e}},minw:{type:Number,default:50,validator:function(e){return 0<e}},minh:{type:Number,default:50,validator:function(e){return 0<e}},x:{type:Number,default:0,validator:function(e){return"number"==typeof e}},y:{type:Number,default:0,validator:function(e){return"number"==typeof e}},z:{type:[String,Number],default:"auto",validator:function(e){let t="string"==typeof e?"auto"==e:0<=e;return t}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(e){return-1!==["x","y","both","none"].indexOf(e)}}},data:function(){return{active:this.isActive,rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,zIndex:this.z,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,left:this.x,top:this.y,right:null,bottom:null,minWidth:this.minw,minHeight:this.minh}},created:function(){this.stickDrag=!1,this.bodyDrag=!1,this.stickAxis=null,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.currentStick=[]},mounted:function(){if(this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up),document.documentElement.addEventListener("mouseleave",this.up),document.documentElement.addEventListener("mousedown",this.deselect),document.documentElement.addEventListener("touchmove",this.move,!0),document.documentElement.addEventListener("touchend touchcancel",this.up,!0),document.documentElement.addEventListener("touchstart",this.up,!0),this.dragHandle){let e=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle));for(let t in e)e[t].setAttribute("data-drag-handle",this._uid)}if(this.dragCancel){let e=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel));for(let t in e)e[t].setAttribute("data-drag-cancel",this._uid)}},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up),document.documentElement.removeEventListener("mouseleave",this.up),document.documentElement.removeEventListener("mousedown",this.deselect),document.documentElement.removeEventListener("touchmove",this.move,!0),document.documentElement.removeEventListener("touchend touchcancel",this.up,!0),document.documentElement.removeEventListener("touchstart",this.up,!0)},methods:{deselect(){this.preventActiveBehavior||(this.active=!1)},move(e){(this.stickDrag||this.bodyDrag)&&(e.stopPropagation(),this.stickDrag&&this.stickMove(e),this.bodyDrag&&this.bodyMove(e))},up(e){this.stickDrag&&this.stickUp(e),this.bodyDrag&&this.bodyUp(e)},bodyDown:function(e){let t=e.target||e.srcElement;(this.preventActiveBehavior||(this.active=!0),!(e.button&&0!==e.button))&&(this.$emit("clicked",e),!this.isDraggable||!this.active||this.dragHandle&&t.getAttribute("data-drag-handle")!==this._uid.toString()||this.dragCancel&&t.getAttribute("data-drag-cancel")===this._uid.toString()||(e.stopPropagation(),e.preventDefault(),this.bodyDrag=!0,this.stickStartPos.mouseX="undefined"==typeof e.pageX?e.touches[0].pageX:e.pageX,this.stickStartPos.mouseY="undefined"==typeof e.pageY?e.touches[0].pageY:e.pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.parentLimitation&&(this.limits=this.calcDragLimitation())))},calcDragLimitation(){const e=this.parentWidth,t=this.parentHeight;return{minLeft:0,maxLeft:e-this.width,minRight:0,maxRight:e-this.width,minTop:0,maxTop:t-this.height,minBottom:0,maxBottom:t-this.height}},bodyMove(e){var t=Math.abs;const a=this.stickStartPos,i=this.parentWidth,o=this.parentHeight,r=this.gridX,s=this.gridY,n=this.width,c=this.height,d="undefined"==typeof e.pageX?e.touches[0].pageX:e.pageX,l="undefined"==typeof e.pageY?e.touches[0].pageY:e.pageY;let m={x:("y"!==this.axis&&"none"!==this.axis?a.mouseX-d:0)/this.parentScaleX,y:("x"!==this.axis&&"none"!==this.axis?a.mouseY-l:0)/this.parentScaleY},p=a.top-m.y,u=a.bottom+m.y,g=a.left-m.x,h=a.right+m.x;if(this.snapToGrid){let e=!0,a=!0,d=p-P(p/s)*s,l=o-u-P((o-u)/s)*s,m=g-P(g/r)*r,v=i-h-P((i-h)/r)*r;d>s/2&&(d-=s),l>s/2&&(l-=s),m>r/2&&(m-=r),v>r/2&&(v-=r),t(l)<t(d)&&(e=!1),t(v)<t(m)&&(a=!1),p-=e?d:l,u=o-c-p,g-=a?m:v,h=i-n-g}this.rawTop=p,this.rawBottom=u,this.rawLeft=g,this.rawRight=h,this.$emit("dragging",this.rect)},bodyUp(){this.bodyDrag=!1,this.$emit("dragging",this.rect),this.$emit("dragstop",this.rect),this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},stickDown:function(e,t){if(this.isResizable&&this.active){switch(this.stickDrag=!0,this.stickStartPos.mouseX="undefined"==typeof t.pageX?t.touches[0].pageX:t.pageX,this.stickStartPos.mouseY="undefined"==typeof t.pageY?t.touches[0].pageY:t.pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.currentStick=e.split(""),this.stickAxis=null,this.currentStick[0]){case"b":this.stickAxis="y";break;case"t":this.stickAxis="y";}switch(this.currentStick[1]){case"r":this.stickAxis="y"===this.stickAxis?"xy":"x";break;case"l":this.stickAxis="y"===this.stickAxis?"xy":"x";}this.limits=this.calcResizeLimitation()}},calcResizeLimitation(){var e=Math.max,t=Math.min;let a=this.minWidth,i=this.minHeight;const o=this.aspectFactor,r=this.width,s=this.height,n=this.bottom,c=this.top,d=this.left,l=this.right,m=this.stickAxis,p=this.parentLimitation?0:null;this.aspectRatio&&(a/i>o?i=a/o:a=o*i);let u={minLeft:p,maxLeft:d+(r-a),minRight:p,maxRight:l+(r-a),minTop:p,maxTop:c+(s-i),minBottom:p,maxBottom:n+(s-i)};if(this.aspectRatio){const p={minLeft:d-2*(t(c,n)*o),maxLeft:d+2*((s-i)/2*o),minRight:l-2*(t(c,n)*o),maxRight:l+2*((s-i)/2*o),minTop:c-2*(t(d,l)/o),maxTop:c+2*((r-a)/2/o),minBottom:n-2*(t(d,l)/o),maxBottom:n+2*((r-a)/2/o)};"x"===m?u={minLeft:e(u.minLeft,p.minLeft),maxLeft:t(u.maxLeft,p.maxLeft),minRight:e(u.minRight,p.minRight),maxRight:t(u.maxRight,p.maxRight)}:"y"===m&&(u={minTop:e(u.minTop,p.minTop),maxTop:t(u.maxTop,p.maxTop),minBottom:e(u.minBottom,p.minBottom),maxBottom:t(u.maxBottom,p.maxBottom)})}return u},stickMove(e){const t=this.stickStartPos,a="undefined"==typeof e.pageX?e.touches[0].pageX:e.pageX,i="undefined"==typeof e.pageY?e.touches[0].pageY:e.pageY,o={x:(t.mouseX-a)/this.parentScaleX,y:(t.mouseY-i)/this.parentScaleY};let r=t.top-o.y,s=t.bottom+o.y,n=t.left-o.x,c=t.right+o.x;switch(this.currentStick[0]){case"b":this.snapToGrid&&(s=this.parentHeight-N((this.parentHeight-s)/this.gridY)*this.gridY),this.rawBottom=s;break;case"t":this.snapToGrid&&(r=N(r/this.gridY)*this.gridY),this.rawTop=r;}switch(this.currentStick[1]){case"r":this.snapToGrid&&(c=this.parentWidth-N((this.parentWidth-c)/this.gridX)*this.gridX),this.rawRight=c;break;case"l":this.snapToGrid&&(n=N(n/this.gridX)*this.gridX),this.rawLeft=n;}this.$emit("resizing",this.rect)},stickUp(){this.stickDrag=!1,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.stickAxis=null,this.$emit("resizing",this.rect),this.$emit("resizestop",this.rect)},aspectRatioCorrection(){if(!this.aspectRatio)return;const e=this.bottom,t=this.top,a=this.left,i=this.right,o=this.width,r=this.height,s=this.aspectFactor,n=this.currentStick;if(o/r>s){let e=s*r;"l"===n[1]?this.left=a+o-e:this.right=i+o-e}else{let a=o/s;"t"===n[0]?this.top=t+r-a:this.bottom=e+r-a}}},computed:{style(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex}},vdrStick(){return e=>{const t={width:`${Re/this.parentScaleX}px`,height:`${Re/this.parentScaleY}px`};return t[Ee.y[e[0]]]=`${Re/this.parentScaleX/-2}px`,t[Ee.x[e[1]]]=`${Re/this.parentScaleX/-2}px`,t}},width(){return this.parentWidth-this.left-this.right},height(){return this.parentHeight-this.top-this.bottom},rect(){return{left:N(this.left),top:N(this.top),width:N(this.width),height:N(this.height)}}},watch:{rawLeft(e){const t=this.limits,a=this.stickAxis,i=this.aspectFactor,o=this.aspectRatio,r=this.left,s=this.bottom,n=this.top;if(null!==t.minLeft&&e<t.minLeft?e=t.minLeft:null!==t.maxLeft&&t.maxLeft<e&&(e=t.maxLeft),o&&"x"===a){const t=r-e;this.rawTop=n-t/i/2,this.rawBottom=s-t/i/2}this.left=e},rawRight(e){const t=this.limits,a=this.stickAxis,i=this.aspectFactor,o=this.aspectRatio,r=this.right,s=this.bottom,n=this.top;if(null!==t.minRight&&e<t.minRight?e=t.minRight:null!==t.maxRight&&t.maxRight<e&&(e=t.maxRight),o&&"x"===a){const t=r-e;this.rawTop=n-t/i/2,this.rawBottom=s-t/i/2}this.right=e},rawTop(e){const t=this.limits,a=this.stickAxis,i=this.aspectFactor,o=this.aspectRatio,r=this.right,s=this.left,n=this.top;if(null!==t.minTop&&e<t.minTop?e=t.minTop:null!==t.maxTop&&t.maxTop<e&&(e=t.maxTop),o&&"y"===a){const t=n-e;this.rawLeft=s-t*i/2,this.rawRight=r-t*i/2}this.top=e},rawBottom(e){const t=this.limits,a=this.stickAxis,i=this.aspectFactor,o=this.aspectRatio,r=this.right,s=this.left,n=this.bottom;if(null!==t.minBottom&&e<t.minBottom?e=t.minBottom:null!==t.maxBottom&&t.maxBottom<e&&(e=t.maxBottom),o&&"y"===a){const t=n-e;this.rawLeft=s-t*i/2,this.rawRight=r-t*i/2}this.bottom=e},width(){this.aspectRatioCorrection()},height(){this.aspectRatioCorrection()},active(e){e?this.$emit("activated"):this.$emit("deactivated")},isActive(e){this.active=e},z(e){(0<=e||"auto"===e)&&(this.zIndex=e)},aspectRatio(e){e&&(this.aspectFactor=this.width/this.height)},minw(e){0<e&&e<=this.width&&(this.minWidth=e)},minh(e){0<e&&e<=this.height&&(this.minHeight=e)},x(){if(!(this.stickDrag||this.bodyDrag)){this.parentLimitation&&(this.limits=this.calcDragLimitation());let e=this.x-this.left;this.rawLeft=this.x,this.rawRight=this.right-e}},y(){if(!(this.stickDrag||this.bodyDrag)){this.parentLimitation&&(this.limits=this.calcDragLimitation());let e=this.y-this.top;this.rawTop=this.y,this.rawBottom=this.bottom-e}},w(){if(!(this.stickDrag||this.bodyDrag)){this.currentStick=["m","r"],this.stickAxis="x",this.parentLimitation&&(this.limits=this.calcResizeLimitation());let e=this.width-this.w;this.rawRight=this.right+e}},h(){if(!(this.stickDrag||this.bodyDrag)){this.currentStick=["b","m"],this.stickAxis="y",this.parentLimitation&&(this.limits=this.calcResizeLimitation());let e=this.height-this.h;this.rawBottom=this.bottom+e}},parentW(e){this.right=e-this.width-this.left,this.parentWidth=e},parentH(e){this.bottom=e-this.height-this.top,this.parentHeight=e}}};/* script */ /* style inject SSR */var Le=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"vdr",class:e.active||e.isActive?"active":"inactive",style:e.style,on:{mousedown:function(t){return e.bodyDown(t)},touchstart:function(t){return e.bodyDown(t)},touchend:function(t){return e.up(t)}}},[e._t("default"),e._v(" "),e._l(e.sticks,function(t){return a("div",{staticClass:"vdr-stick",class:["vdr-stick-"+t,e.isResizable?"":"not-resizable"],style:e.vdrStick(t),on:{mousedown:function(a){return a.stopPropagation(),a.preventDefault(),e.stickDown(t,a)},touchstart:function(a){return a.stopPropagation(),a.preventDefault(),e.stickDown(t,a)}}})})],2)},staticRenderFns:[]},function(e){e&&e("data-v-6aa1835c_0",{source:".vdr{position:absolute;box-sizing:border-box}.vdr.active:before{content:'';width:100%;height:100%;position:absolute;top:0;left:0;box-sizing:border-box;outline:1px dashed #d6d6d6}.vdr-stick{box-sizing:border-box;position:absolute;font-size:1px;background:#fff;border:1px solid #6c6c6c;box-shadow:0 0 2px #bbb}.inactive .vdr-stick{display:none}.vdr-stick-br,.vdr-stick-tl{cursor:nwse-resize}.vdr-stick-bm,.vdr-stick-tm{left:50%;cursor:ns-resize}.vdr-stick-bl,.vdr-stick-tr{cursor:nesw-resize}.vdr-stick-ml,.vdr-stick-mr{top:50%;cursor:ew-resize}.vdr-stick.not-resizable{display:none}",map:void 0,media:void 0})},Ae,void 0,!1,void 0,W,void 0);/**
   * DragResize mixins
   *
   * @description Mixins for drag-resize components
   * @license YetiForce Public License 3.0
   * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>
   */const Te={methods:{keepElementInWindow(){this.correctCoordinates(this.coordinates)}},mounted(){this.keepElementInWindow(this.coordinates),window.addEventListener("resize",this.keepElementInWindow)}};//
var Be={name:"DragResize",mixins:[Te],components:{VueDragResize:Le},props:{maximized:{type:Boolean,required:!0},coordinates:{type:Object,required:!0},sticks:{type:Array,default:function(){return["br","bl","tr","tl"]}},stickStyle:{type:Object,default:function(){return{height:"15px",width:"15px",border:"none","box-shadow":"none","background-color":"transparent"}}}},data(){return{active:!1,minHeight:300,minWidth:300,minVisibleHeight:32,minVisibleWidth:120}},methods:{resize(t,a){this.$emit("update:coordinates",{width:t.width,height:t.height,top:t.top,left:t.left})},correctCoordinates(e){let t=Object.assign({},e);e.width>window.innerWidth?(t.width=window.innerWidth,t.left=0):0>e.left+e.width-this.minVisibleWidth?t.left=this.minVisibleWidth-e.width:e.width+e.left>window.innerWidth&&(t.left=window.innerWidth-e.width),e.height>window.innerHeight?(t.height=window.innerHeight,t.top=0):0>e.top?t.top=0:e.top>window.innerHeight-this.minVisibleHeight&&(t.top=window.innerHeight-this.minVisibleHeight),this.$emit("update:coordinates",t)},onActivated(){const e=this.$refs.resize.$el.querySelectorAll(".vdr-stick");Array.prototype.map.call(e,e=>{for(let t in this.stickStyle)e.style[t]=this.stickStyle[t]})}},mounted(){this.active=!0}};/* script */ /* style inject SSR */var $e=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.$q.platform.is.desktop?a("vue-drag-resize",{ref:"resize",class:[e.maximized?"fit position-static":"modal-mini","overflow-hidden"],attrs:{preventActiveBehavior:!0,isActive:e.active,isResizable:!0,isDraggable:!e.maximized,dragHandle:".js-drag",sticks:e.sticks,x:e.coordinates.left,y:e.coordinates.top,w:e.coordinates.width,h:e.coordinates.height,minh:e.minHeight,minw:e.minWidth},on:{activated:e.onActivated,dragstop:e.correctCoordinates,resizestop:e.correctCoordinates,resizing:e.resize,dragging:e.resize}},[a("div",{staticClass:"fit"},[e._t("default")],2)]):a("div",{staticClass:"fit"},[e._t("default")],2)],1)},staticRenderFns:[]},function(e){e&&e("data-v-05510d5e_0",{source:".modal-mini{max-height:unset!important;max-width:unset!important;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px rgba(0,0,0,.14),0 1px 10px rgba(0,0,0,.12)}.vdr.active{font-weight:unset}.modal-mini .vdr-stick{display:inline-flex}",map:void 0,media:void 0})},Be,void 0,!1,void 0,W,void 0);//
const{mapGetters:Ie,mapActions:Me}=ke("KnowledgeBase");var Ne={name:"ArticlePreviewContent",components:{Icon:K,Carousel:Z,ArticlesList:De,ColumnsGrid:V},props:{height:{type:Number,default:0},previewMaximized:{type:Boolean,true:0}},computed:{...Ie(["tree","record","iconSize"]),relatedRecords(){if(this.record){let e=Object.keys(this.record.related.dynamic).map(e=>0!==this.record.related.dynamic[e].length&&e);return e.filter(function(e){return"string"==typeof e})}return[]},hasRelatedArticles(){return!!this.record&&0!==this.record.related.base.Articles.length},hasRelatedComments(){return!!this.record&&0!==this.record.related.base.ModComments.length}},watch:{previewMaximized(){this.$emit("onMaximizedToggle",this.previewMaximized)}},methods:{...Me(["fetchCategories","fetchRecord","initState"]),onResize(e){this.$refs.content!==void 0&&$(this.$refs.content).find("img").css("max-width",e.width)}}};/* script */ /* style inject SSR */var Pe=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"KnowledgeBase__ArticlePreview fit"},[a("q-bar",{staticClass:"bg-yeti text-white dialog-header",attrs:{dark:""}},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"flex items-center no-wrap ellipsis q-mr-sm-sm"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-text"}}),e._v("\n        "+e._s(e.record.subject)+"\n      ")],1),e._v(" "),a("div",{staticClass:"flex items-center text-grey-4 small"},[a("div",{staticClass:"flex items-center"},[a("q-icon",{attrs:{name:e.tree.topCategory.icon,size:"15px"}}),e._v(" "),a("q-icon",{attrs:{size:"1.5em",name:"mdi-chevron-right"}}),e._v(" "),a("span",{staticClass:"flex items-center",domProps:{innerHTML:e._s(e.record.category)}}),e._v(" "),a("q-tooltip",[e._v("\n            "+e._s(e.translate("JS_KB_CATEGORY"))+"\n          ")])],1),e._v(" "),a("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),a("div",[a("q-icon",{attrs:{name:"mdi-calendar-clock",size:"15px"}}),e._v("\n          "+e._s(e.record.short_createdtime)+"\n          "),a("q-tooltip",[e._v("\n            "+e._s(e.translate("JS_KB_CREATED")+": "+e.record.full_createdtime)+"\n          ")])],1),e._v(" "),e.record.short_modifiedtime?[a("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),a("div",[a("q-icon",{attrs:{name:"mdi-square-edit-outline",size:"15px"}}),e._v("\n            "+e._s(e.record.short_modifiedtime)+"\n            "),a("q-tooltip",[e._v("\n              "+e._s(e.translate("JS_KB_MODIFIED")+": "+e.record.full_modifiedtime)+"\n            ")])],1)]:e._e(),e._v(" "),e.record.accountId?[a("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),a("icon",{attrs:{icon:"userIcon-Accounts",size:"15px"}}),e._v(" "),a("a",{staticClass:"js-popover-tooltip--record ellipsis q-ml-xs text-grey-4",attrs:{href:"index.php?module=Accounts&view=Detail&record="+e.record.accountId}},[e._v(e._s(e.record.accountName)+"\n          ")])]:e._e()],2)]),e._v(" "),a("q-space"),e._v(" "),e._t("header-right",[e.$q.platform.is.desktop?[a("a",{directives:[{name:"show",rawName:"v-show",value:!e.previewMaximized,expression:"!previewMaximized"}],staticClass:"flex grabbable text-decoration-none text-white",attrs:{href:"#"}},[a("q-icon",{staticClass:"js-drag",attrs:{name:"mdi-drag",size:"19px"}})],1),e._v(" "),a("q-btn",{attrs:{dense:"",flat:"",icon:e.previewMaximized?"mdi-window-restore":"mdi-window-maximize"},on:{click:function(){e.previewMaximized=!e.previewMaximized}}},[a("q-tooltip",[e._v(e._s(e.previewMaximized?e.translate("JS_MINIMIZE"):e.translate("JS_MAXIMIZE")))])],1)]:e._e(),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"mdi-close"}},[a("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)])],2),e._v(" "),a("q-card-section",{class:["scroll",e.previewMaximized?"modal-full-height":""],style:e.height?{"max-height":e.height-31.14+"px"}:{}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.record.introduction,expression:"record.introduction"}]},[a("div",{staticClass:"text-subtitle2 text-bold"},[e._v(e._s(e.record.introduction))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.record.content,expression:"record.content"}]},[a("q-resize-observer",{on:{resize:e.onResize}}),e._v(" "),a("div",{ref:"content"},["PLL_PRESENTATION"===e.record.view&&1<e.record.content.length?a("carousel",{attrs:{record:e.record}}):a("div",[a("q-separator"),e._v(" "),a("div",{domProps:{innerHTML:e._s("object"==typeof e.record.content?e.record.content[0]:e.record.content)}})],1)],1)],1),e._v(" "),e.hasRelatedComments?a("div",[a("q-separator"),e._v(" "),a("div",{staticClass:"q-pa-md q-table__title"},[e._v(e._s(e.translate("JS_KB_COMMENTS")))]),e._v(" "),a("q-list",{attrs:{padding:""}},e._l(e.record.related.base.ModComments,function(t,i){return a("q-item",{key:i},[a("q-item-section",{attrs:{avatar:"",top:""}},[a("q-avatar",{attrs:{size:"iconSize"}},[t.avatar.url===void 0?a("q-icon",{attrs:{name:"mdi-account"}}):a("img",{attrs:{src:t.avatar.url}})],1)],1),e._v(" "),a("q-item-section",[a("q-item-label",[a("a",{staticClass:"js-popover-tooltip--record",attrs:{href:"index.php?module=Users&view=Detail&record="+t.userid}},[e._v(e._s(t.userName)+"\n              ")])]),e._v(" "),a("q-item-label",[a("div",{domProps:{innerHTML:e._s(t.comment)}})])],1),e._v(" "),a("q-item-section",{attrs:{side:"",top:""}},[a("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.modifiedShort))]),e._v(" "),a("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[e._v("\n              "+e._s(e.translate("JS_KB_MODIFIED")+": "+t.modifiedFull)+"\n            ")])],1)],1)}),1)],1):e._e(),e._v(" "),e.hasRelatedArticles?a("div",[a("q-separator"),e._v(" "),e.record.related?a("articles-list",{attrs:{data:e.record.related.base.Articles,title:e.translate("JS_KB_RELATED_ARTICLES")}}):e._e()],1):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.relatedRecords.length,expression:"relatedRecords.length"}]},[a("q-separator"),e._v(" "),a("div",{staticClass:"q-pa-md q-table__title"},[e._v(e._s(e.translate("JS_KB_RELATED_RECORDS")))]),e._v(" "),a("columns-grid",{attrs:{columnBlocks:e.relatedRecords},scopedSlots:e._u([{key:"default",fn:function(t){return[a("q-list",{attrs:{bordered:"",padding:"",dense:""}},[a("q-item",{staticClass:"text-black flex",attrs:{header:"",clickable:""}},[a("icon",{staticClass:"mr-2",attrs:{icon:"userIcon-"+t.relatedBlock,size:e.iconSize}}),e._v("\n              "+e._s(e.record.translations[t.relatedBlock])+"\n            ")],1),e._v(" "),e._l(e.record.related.dynamic[t.relatedBlock],function(i,o){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:o,staticClass:"text-subtitle2",attrs:{clickable:""}},[a("q-item-section",{staticClass:"align-items-center flex-row no-wrap justify-content-start"},[a("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module="+t.relatedBlock+"&view=Detail&record="+o}},[e._v("\n                  "+e._s(i)+"\n                ")])])],1)})],2)]}}])})],1)])],1)},staticRenderFns:[]},function(e){e&&e("data-v-ebcdc2ce_0",{source:".dialog-header{padding-top:3px!important;padding-bottom:3px!important;height:unset!important}.modal-full-height{max-height:calc(100vh - 31.14px)!important}.grabbable:hover{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.grabbable:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}.contrast-50{filter:contrast(50%)}",map:void 0,media:void 0})},Ne,void 0,!1,void 0,W,void 0);//
const{mapGetters:He}=ke("KnowledgeBase");var Oe={name:"ArticlePreview",components:{ArticlePreviewContent:Pe,DragResize:$e},props:{isDragResize:{type:Boolean,default:!0},maximizedOnly:{type:Boolean,default:!1},previewDialog:{type:Boolean,default:!1}},data(){return{coordinates:{width:Quasar.plugins.Screen.width-100,height:Quasar.plugins.Screen.height-100,top:0,left:Quasar.plugins.Screen.width-(Quasar.plugins.Screen.width-50)},previewMaximized:!0}},watch:{previewDialog(){this.$emit("onDialogToggle",this.previewDialog)}},methods:{onMaximizedToggle(e){this.previewMaximized=e}}};/* script */ /* style inject */ /* style inject SSR */var Ke=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{maximized:!!e.maximizedOnly||e.previewMaximized,"transition-show":"slide-up","transition-hide":"slide-down","content-class":"quasar-reset"},model:{value:e.previewDialog,callback:function(t){e.previewDialog=t},expression:"previewDialog"}},[e.isDragResize?a("drag-resize",{attrs:{coordinates:e.coordinates,maximized:e.previewMaximized},on:{"update:coordinates":function(t){e.coordinates=t}}},[a("article-preview-content",{attrs:{height:e.coordinates.height,previewMaximized:e.previewMaximized},on:{onMaximizedToggle:e.onMaximizedToggle}})],1):a("article-preview-content",[a("template",{slot:"header-right"},[e._t("header-right")],2)],2)],1)},staticRenderFns:[]},void 0,Oe,void 0,!1,void 0,void 0,void 0);//
const{mapGetters:Ge}=ke("KnowledgeBase");var Fe={name:"CategoriesList",components:{Icon:K},data(){return{show:!0,animationIn:"slideInLeft",animationOut:"slideOutRight",animationChildClassIn:"slideInRight",animationChildClassOut:"slideOutLeft",animationParentClassIn:"slideInLeft",animationParentClassOut:"slideOutRight",activeCategoryDelayed:""}},props:{activeCategory:{type:String,required:!0},data:{type:Object,required:!0}},computed:{...Ge(["tree","iconSize","defaultTreeIcon"])},watch:{data(){this.activeCategoryDelayed=this.activeCategory,this.show=!0}},methods:{fetchParentCategoryData(){this.animationIn=this.animationParentClassIn,this.animationOut=this.animationParentClassOut,this.show=!1,this.data.categories=[];let e="";const t=this.tree.categories[this.activeCategory].parentTree;1!==t.length&&(e=t[t.length-2]),this.$emit("fetchData",e)},fetchChildCategoryData(e){this.animationIn=this.animationChildClassIn,this.animationOut=this.animationChildClassOut,this.show=!1,this.data.categories=[],this.$emit("fetchData",e)}},mounted(){this.activeCategoryDelayed=this.activeCategory}};/* script */ /* style inject */ /* style inject SSR */var Xe=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{"enter-active-class":"animated "+e.animationIn,"leave-active-class":"animated "+e.animationOut}},[a("q-list",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[a("q-item",{directives:[{name:"show",rawName:"v-show",value:""===e.activeCategoryDelayed,expression:"activeCategoryDelayed === ''"}],attrs:{active:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.tree.topCategory.icon,size:e.iconSize}})],1),e._v(" "),a("q-item-section",[e._v(e._s(e.translate(e.tree.topCategory.label)))])],1),e._v(" "),""===e.activeCategoryDelayed?e._e():a("q-item",{attrs:{clickable:"",active:""},on:{click:function(){return e.fetchParentCategoryData()}}},[a("q-item-section",{attrs:{avatar:""}},[a("icon",{attrs:{size:e.iconSize,icon:e.tree.categories[e.activeCategoryDelayed].icon||e.defaultTreeIcon}})],1),e._v(" "),a("q-item-section",[e._v(e._s(e.tree.categories[e.activeCategoryDelayed].label))]),e._v(" "),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-chevron-left"}})],1)],1),e._v(" "),e._l(e.data.categories,function(t,i){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,attrs:{clickable:""},on:{click:function(){return e.fetchChildCategoryData(t)}}},[a("q-item-section",{attrs:{avatar:""}},[a("icon",{attrs:{size:e.iconSize,icon:e.tree.categories[t].icon||e.defaultTreeIcon}})],1),e._v(" "),a("q-item-section",[e._v(e._s(e.tree.categories[t].label))]),e._v(" "),a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"mdi-chevron-right"}})],1)],1)})],2)],1)},staticRenderFns:[]},void 0,Fe,void 0,!1,void 0,void 0,void 0);//
const{mapGetters:Ye,mapActions:je}=ke("KnowledgeBase");var Je={name:"KnowledgeBase",components:{Icon:K,IconInfo:X,Carousel:Z,ArticlesList:De,ArticlePreview:Ke,ColumnsGrid:V,CategoriesList:Xe},props:{coordinates:{type:Object,default:()=>({width:0,height:0,top:0,left:0})}},data(){return{drawerBehaviour:"desktop",miniState:!1,left:!0,filter:"",accountSearch:"",categorySearch:!1,searchData:!1,activeCategory:"",activeAccount:"",previewDialog:!1,tab:"categories",showAccounts:!1,data:{categories:[],records:[],featured:{}},accountsData:{categories:[],records:[],featured:{}},accounts:[]}},computed:{...Ye(["tree","record","iconSize","moduleName","maximized","defaultTreeIcon"]),accountsList(){return""===this.accountSearch?this.accounts:this.accounts.filter(e=>e.name.toLowerCase().includes(this.accountSearch.toLowerCase()))},selectedTabData(){return"categories"===this.tab?this.data:this.accountsData},searchDataArray(){return this.searchData?this.searchData:[]},featuredCategories(){if("undefined"==typeof this.selectedTabData.featured.length&&this.selectedTabData.categories){let e=this.selectedTabData.categories.map(t=>!!this.selectedTabData.featured[t]&&t);return e.filter(function(e){return"string"==typeof e})}return[]},inputFocus:{set(e){return!1},get(){return 0<this.filter.length}}},methods:{...je(["fetchRecord","fetchCategories"]),onTabChange(e){0===this.accounts.length&&"accounts"===e&&this.fetchAccounts()},fetchAccounts(){const e=$.Deferred(),t=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"getAccounts"}).done(a=>{let i=a.result;i&&(i=Object.keys(i).map(function(e){return{name:i[e],id:e}})),this.accounts=i,t.progressIndicator({mode:"hide"}),e.resolve(i)})},search(){3<=this.filter.length?this.debouncedSearch():this.searchData=!1},clearSearch(){this.filter="",this.searchData=!1},fetchData(e="",t=""){const a=$.Deferred();null!==e&&(this.activeCategory=e);const i=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"list",category:e,accountid:t}).done(e=>{let o=e.result;o.showAccounts&&(this.showAccounts=!0),o.records&&(o.records=Object.keys(o.records).map(function(e){return{...o.records[e],id:e}})),""===t?this.data=o:this.accountsData=o,i.progressIndicator({mode:"hide"}),a.resolve(o)})},openQuickCreateModal(){const e=new window.Vtiger_Header_Js;e.quickCreateModule(this.moduleName)},showArticlePreview(e){this.fetchRecord(e).then(()=>{this.previewDialog=!0})},toggleDrawer(){this.$q.platform.is.desktop&&(!this.coordinates.width||700<this.coordinates.width)?this.miniState=!this.miniState:this.left=!this.left},onDialogToggle(e){this.previewDialog=e}},async created(){await this.fetchCategories(),await this.fetchData()},mounted(){this.debouncedSearch=Quasar.utils.debounce(()=>{if(3>this.filter.length)return;const e=$.Deferred(),t=$.progressIndicator({blockInfo:{enabled:!0}});AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"search",value:this.filter,category:this.categorySearch?this.activeCategory:""}).done(a=>{let i=a.result;return i&&(i=Object.keys(i).map(function(e){return{...i[e],id:e}})),this.searchData=i,e.resolve(i),t.progressIndicator({mode:"hide"}),i})},1000)}};/* script */ /* style inject SSR */var We=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"KnowledgeBase h-100"},[a("q-layout",{staticClass:"absolute",style:e.coordinates.height&&!e.maximized?{"max-height":e.coordinates.height-31.14+"px"}:{},attrs:{view:"hHh Lpr fFf",container:""}},[a("q-header",{staticClass:"bg-white text-primary",attrs:{elevated:""}},[a("q-toolbar",{staticClass:"flex-md-nowrap flex-wrap items-center q-gutter-x-md q-gutter-y-sm q-pl-md q-pr-none q-py-xs"},[a("div",{class:["flex items-center no-wrap flex-md-grow-1 q-mr-sm-sm",e.searchData?"invisible":""]},[a("q-btn",{attrs:{dense:"",round:"",push:"",icon:"mdi-menu"},on:{click:function(){return e.toggleDrawer()}}},[a("q-tooltip",[e._v(e._s(e.translate("JS_KB_TOGGLE_CATEGORY_MENU")))])],1),e._v(" "),a("q-breadcrumbs",{directives:[{name:"show",rawName:"v-show",value:"categories"===e.tab,expression:"tab === 'categories'"}],staticClass:"ml-2",scopedSlots:e._u([{key:"separator",fn:function(){return[a("q-icon",{attrs:{size:"1.5em",name:"mdi-chevron-right"}})]},proxy:!0}])},[e._v(" "),a("q-breadcrumbs-el",{class:[""===e.activeCategory?"text-black":"cursor-pointer"],attrs:{icon:e.tree.topCategory.icon,label:e.translate(e.tree.topCategory.label)},on:{click:function(){""===e.activeCategory?"":e.fetchData()}}}),e._v(" "),""===e.activeCategory?e._e():e._l(e.tree.categories[e.activeCategory].parentTree,function(t,i){return a("q-breadcrumbs-el",{key:i,class:[i===e.tree.categories[e.activeCategory].parentTree.length-1?"text-black":"cursor-pointer"],on:{click:function(){i===e.tree.categories[e.activeCategory].parentTree.length-1?"":e.fetchData(t)}}},[e.tree.categories[t].icon?a("icon",{staticClass:"q-mr-sm",attrs:{size:e.iconSize,icon:e.tree.categories[t].icon}}):e._e(),e._v("\n                "+e._s(e.tree.categories[t].label)+"\n              ")],1)})],2),e._v(" "),a("q-breadcrumbs",{directives:[{name:"show",rawName:"v-show",value:"accounts"===e.tab,expression:"tab === 'accounts'"}],staticClass:"ml-2"},[""===e.activeAccount?e._e():a("q-breadcrumbs-el",{staticClass:"text-black"},[a("icon",{staticClass:"q-mr-sm",attrs:{size:e.iconSize,icon:"userIcon-Accounts"}}),e._v("\n              "+e._s(e.activeAccount)+"\n            ")],1)],1)],1),e._v(" "),a("div",{staticClass:"tree-search flex flex-grow-1 no-wrap order-sm-none order-xs-last"},[a("q-input",{staticClass:"full-width",attrs:{placeholder:e.translate("JS_KB_SEARCH_PLACEHOLDER"),rounded:"",outlined:"",type:"search",autofocus:""},on:{input:e.search},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mdi-magnify"}}),e._v(" "),a("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"},model:{value:e.inputFocus,callback:function(t){e.inputFocus=t},expression:"inputFocus"}},[e._v(e._s(e.translate("JS_INPUT_TOO_SHORT").replace("_LENGTH_","3")))])]},proxy:!0},{key:"append",fn:function(){return[""===e.filter?e._e():a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close"},on:{click:function(t){return t.stopPropagation(),e.clearSearch()}}}),e._v(" "),a("div",{staticClass:"flex items-center q-ml-sm"},[a("icon-info",{attrs:{customOptions:{iconSize:"21px"}}},[a("div",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(e.translate("JS_FULL_TEXT_SEARCH_INFO"))}})])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.activeCategory,expression:"activeCategory !== ''"}],staticClass:"flex"},[a("q-toggle",{attrs:{icon:"mdi-file-tree"},model:{value:e.categorySearch,callback:function(t){e.categorySearch=t},expression:"categorySearch"}}),e._v(" "),a("q-tooltip",[e._v(e._s(e.translate("JS_KB_SEARCH_CURRENT_CATEGORY")))])],1)]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),a("div",{staticClass:"flex-md-grow-1 flex justify-end q-ml-sm-sm"},[a("q-btn",{attrs:{round:"",dense:"",color:"white","text-color":"primary",icon:"mdi-plus"},on:{click:function(){return e.openQuickCreateModal()}}},[a("q-tooltip",[e._v(e._s(e.translate("JS_KB_QUICK_CREATE")))])],1)],1)])],1),e._v(" "),a("q-drawer",{directives:[{name:"show",rawName:"v-show",value:!e.searchData,expression:"!searchData"}],ref:"drawer",attrs:{side:"left",elevated:"",mini:!!e.$q.platform.is.desktop&&e.miniState,width:e.searchData?0:250,breakpoint:700,"content-class":"bg-white text-black","content-style":"overflow: hidden !important"},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[e.showAccounts?[a("q-tabs",{staticClass:"text-grey",attrs:{dense:"","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},on:{input:e.onTabChange},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab",{attrs:{name:"categories",label:e.translate("JS_KB_CATEGORIES")}}),e._v(" "),a("q-tab",{attrs:{name:"accounts",label:e.translate("JS_KB_ACCOUNTS")}})],1),e._v(" "),a("q-tab-panels",{staticStyle:{height:"calc(100% - 36px)"},attrs:{animated:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("q-tab-panel",{attrs:{name:"categories"}},[a("q-scroll-area",{staticClass:"fit"},[a("categories-list",{attrs:{data:e.data,activeCategory:e.activeCategory},on:{fetchData:e.fetchData}})],1)],1),e._v(" "),a("q-tab-panel",{attrs:{name:"accounts"}},[a("div",{staticClass:"q-px-sm"},[a("q-input",{attrs:{placeholder:e.translate("JS_KB_SEARCH_PLACEHOLDER"),dense:""},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"mdi-magnify",size:"16px"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:""!==e.accountSearch,expression:"accountSearch !== ''"}],staticClass:"cursor-pointer",attrs:{name:"mdi-close",size:"16px"},on:{click:function(){e.accountSearch=""}}})]},proxy:!0}],null,!1,107416869),model:{value:e.accountSearch,callback:function(t){e.accountSearch=t},expression:"accountSearch"}})],1),e._v(" "),a("q-scroll-area",{staticStyle:{height:"calc(100% - 56px)"}},[a("q-list",e._l(e.accountsList,function(t){return a("q-item",{key:t,attrs:{active:e.activeAccount===t.name,clickable:""},on:{click:function(){e.fetchData(null,t.id),e.activeAccount=t.name}}},[a("q-item-section",[e._v(e._s(t.name))]),e._v(" "),a("q-item-section",{attrs:{avatar:""}},[a("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module=Accounts&view=Detail&record="+t.id},on:{click:function(e){e.preventDefault()}}},[a("q-icon",{attrs:{name:"mdi-link"}})],1)])],1)}),1)],1)],1)],1)]:a("q-scroll-area",{staticClass:"fit"},[a("categories-list",{attrs:{data:e.data,activeCategory:e.activeCategory},on:{fetchData:e.fetchData}})],1)],2),e._v(" "),a("q-page-container",[a("q-page",{staticClass:"q-pa-sm"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchData,expression:"!searchData"}]},[a("columns-grid",{directives:[{name:"show",rawName:"v-show",value:e.featuredCategories.length,expression:"featuredCategories.length"}],staticClass:"q-pa-sm",attrs:{columnBlocks:e.featuredCategories},scopedSlots:e._u([{key:"default",fn:function(t){return[a("q-list",{attrs:{bordered:"",padding:"",dense:""}},[a("q-item",{staticClass:"text-black flex",attrs:{header:"",clickable:""},on:{click:function(){return e.fetchData(t.relatedBlock)}}},[a("icon",{staticClass:"mr-2",attrs:{icon:e.tree.categories[t.relatedBlock].icon,size:e.iconSize}}),e._v("\n                  "+e._s(e.tree.categories[t.relatedBlock].label)+"\n                ")],1),e._v(" "),e._l(e.selectedTabData.featured[t.relatedBlock],function(t){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,staticClass:"text-subtitle2",attrs:{clickable:""},on:{click:function(a){return a.preventDefault(),e.showArticlePreview(t.id)}}},[a("q-item-section",{staticClass:"align-items-center flex-row no-wrap justify-content-start"},[a("q-icon",{staticClass:"mr-2",attrs:{name:"mdi-star",size:e.iconSize}}),e._v(" "),a("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module="+e.moduleName+"&view=Detail&record="+t.id}},[e._v(e._s(t.subject))])],1)],1)})],2)]}}])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.activeCategory||"accounts"===e.tab,expression:"activeCategory !== '' || tab === 'accounts'"}]},[a("q-separator",{directives:[{name:"show",rawName:"v-show",value:e.featuredCategories.length,expression:"featuredCategories.length"}]}),e._v(" "),a("articles-list",{attrs:{data:e.selectedTabData.records,title:e.translate("JS_KB_ARTICLES")},on:{onClickRecord:function(){e.previewDialog=!0}}})],1)],1),e._v(" "),a("articles-list",{directives:[{name:"show",rawName:"v-show",value:e.searchData,expression:"searchData"}],attrs:{data:e.searchDataArray,title:e.translate("JS_KB_ARTICLES")},on:{onClickRecord:function(){e.previewDialog=!0}}})],1)],1)],1),e._v(" "),a("article-preview",{attrs:{isDragResize:!0,previewDialog:e.previewDialog},on:{onDialogToggle:e.onDialogToggle}})],1)},staticRenderFns:[]},function(e){e&&e("data-v-a03c4bf4_0",{source:".tree-search{min-width:320px;width:50%}.tree-search .q-field__control,.tree-search .q-field__marginal{height:40px}",map:void 0,media:void 0})},Je,void 0,!1,void 0,W,void 0),Ve={name:"BtnGrab",props:{grabClass:{type:String},size:{type:String,required:!1}}};//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* style inject SSR */var Ue=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"grabbable text-decoration-none q-px-xs",attrs:{href:"#"}},[a("q-icon",{class:[e.grabClass],attrs:{name:"mdi-drag",size:e.size}})],1)},staticRenderFns:[]},function(e){e&&e("data-v-92ea9be4_0",{source:".grabbable[data-v-92ea9be4]:hover{cursor:move;cursor:grab;cursor:-moz-grab;cursor:-webkit-grab}.grabbable[data-v-92ea9be4]:active{cursor:grabbing;cursor:-moz-grabbing;cursor:-webkit-grabbing}",map:void 0,media:void 0})},Ve,"data-v-92ea9be4",!1,void 0,W,void 0);//
const{mapGetters:Ze,mapActions:Qe}=ke("KnowledgeBase");var et={name:"KnowledgeBaseModal",components:{KnowledgeBase:We,DragResize:$e,BtnGrab:Ue},data(){return{coordinates:{width:Quasar.plugins.Screen.width-100,height:Quasar.plugins.Screen.height-100,top:0,left:Quasar.plugins.Screen.width-(Quasar.plugins.Screen.width-50)}}},computed:{...Ze(["maximized","moduleName"]),dialog:{set(e){this.$store.commit("KnowledgeBase/setDialog",e)},get(){return this.$store.getters["KnowledgeBase/dialog"]}},maximized:{set(e){this.$store.commit("KnowledgeBase/setMaximized",e)},get(){return this.$store.getters["KnowledgeBase/maximized"]}}},methods:{...Qe(["fetchCategories","initState"])},async created(){await this.initState(this.$options.state)}};/* script */ /* style inject SSR */var tt=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{maximized:e.maximized,"transition-show":"slide-up","transition-hide":"slide-down","content-class":"quasar-reset"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("drag-resize",{attrs:{coordinates:e.coordinates,maximized:e.maximized},on:{"update:coordinates":function(t){e.coordinates=t}}},[a("q-card",{staticClass:"KnowledgeBaseModal full-height"},[a("q-bar",{staticClass:"bg-yeti text-white dialog-header",attrs:{dark:""}},[a("div",{staticClass:"flex items-center no-wrap full-width js-drag"},[a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"flex items-center no-wrap ellipsis q-mr-sm-sm"},[a("span",{class:["userIcon-"+e.moduleName,"q-mr-sm"]}),e._v("\n\t\t\t\t\t\t\t\t"+e._s(e.translate("JS_"+e.moduleName.toUpperCase()))+"\n\t\t\t\t\t\t\t")])]),e._v(" "),a("q-space"),e._v(" "),e.$q.platform.is.desktop?[a("btn-grab",{directives:[{name:"show",rawName:"v-show",value:!e.maximized,expression:"!maximized"}],staticClass:"flex text-white",attrs:{grabClass:"js-drag",size:"19px"}}),e._v(" "),a("q-btn",{attrs:{dense:"",flat:"",icon:e.maximized?"mdi-window-restore":"mdi-window-maximize"},on:{click:function(){e.maximized=!e.maximized}}},[a("q-tooltip",[e._v(e._s(e.maximized?e.translate("JS_MINIMIZE"):e.translate("JS_MAXIMIZE")))])],1)]:e._e(),e._v(" "),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"mdi-close"}},[a("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)],2)]),e._v(" "),a("div",[a("knowledge-base",{attrs:{coordinates:e.coordinates}})],1)],1)],1)],1)},staticRenderFns:[]},function(e){e&&e("data-v-1cabffd5_0",{source:".dialog-header{padding-top:3px!important;padding-bottom:3px!important;height:unset!important}.modal-full-height{max-height:calc(100vh - 31.14px)!important}.contrast-50{filter:contrast(50%)}",map:void 0,media:void 0})},et,void 0,!1,void 0,W,void 0);//
const{mapGetters:at,mapActions:it}=ke("KnowledgeBase");var ot={name:"ArticlePreviewModal",components:{ArticlePreview:Ke},methods:{hideModal(){app.hideModalWindow(),this.initState({record:!1}),this.$destroy()},...it(["fetchCategories","fetchRecord","initState"])},async created(){await this.initState(this.$options.state),await this.fetchCategories(),await this.fetchRecord(this.$options.state.recordId),document.addEventListener("keyup",e=>{27===e.keyCode&&this.hideModal()})}};/* script */ /* style inject */ /* style inject SSR */var rt=O({render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("article-preview",{attrs:{isDragResize:!1,maximizedOnly:!0,previewDialog:!0}},[a("template",{slot:"header-right"},[a("q-btn",{attrs:{dense:"",flat:"",icon:"mdi-close"},on:{click:function(){return e.hideModal()}}},[a("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)],1)],2)},staticRenderFns:[]},void 0,ot,void 0,!1,void 0,void 0,void 0);Vue.use(Ce);const st="production"!=={nextTick:c,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:l,addListener:l,once:l,off:l,removeListener:l,removeAllListeners:l,emit:l,binding:function(){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw new Error("process.chdir is not supported")},umask:function(){return 0}// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js
,hrtime:// generate timestamp or delta
// see http://nodejs.org/api/process.html#process_process_hrtime
function(e){var t=1e-3*ne.call(se),a=P(t),i=P(1e9*(t%1));return e&&(a-=e[0],i-=e[1],0>i&&(a--,i+=1e9)),[a,i]},platform:"browser",release:{},config:{},uptime:function(){var e=new Date;return(e-ce)/1e3}}.env.NODE_ENV;window.vuexStore===void 0&&(window.vuexStore=new Ce.Store({strict:st}));var nt=window.vuexStore;/**
   * Knowledge base module
   *
   * @description Knowledge base vuex module
   * @license YetiForce Public License 3.0
   * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>
   */const ct={moduleName(e){return e.moduleName},record(e){return e.record},dialog(e){return e.dialog},maximized(e){return e.maximized},previewDialog(e){return e.previewDialog},previewMaximized(e){return e.previewMaximized},coordinates(e){return e.coordinates},iconSize(e){return e.iconSize},tree(e){return e.tree},defaultTreeIcon(e){return e.defaultTreeIcon}},dt={fetchRecord({state:e,commit:t,getters:a},i){const o=$.Deferred(),r=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:a.moduleName,action:"KnowledgeBaseAjax",mode:"detail",record:i}).done(e=>{let a=e.result;a.related.base.Articles&&(a.related.base.Articles=Object.keys(a.related.base.Articles).map(function(e){return{...a.related.base.Articles[e],id:e}})),t("setRecord",a),r.progressIndicator({mode:"hide"}),o.resolve(a)})},fetchCategories({state:e,commit:t,getters:a}){const i=$.Deferred();return AppConnector.request({module:a.moduleName,action:"KnowledgeBaseAjax",mode:"categories"}).done(e=>{t("setTreeCategories",e.result),i.resolve(e.result)})},initState({state:e,commit:t},a){t("setState",a)}},lt={setState(e,t){e=Object.assign(e,t)},setRecord(e,t){e.record=t},setDialog(e,t){e.dialog=t},setMaximized(e,t){e.maximized=t},setCoordinates(e,t){e.coordinates=t},setTreeCategories(e,t){e.tree.categories=t}};/**
   * KnowledgeBase components initializations
   *
   * @description KnowledgeBase views' instances
   * @license YetiForce Public License 3.0
   * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>
   */const{mapActions:mt}=ke("KnowledgeBase");nt.registerModule("KnowledgeBase",{namespaced:!0,state:{defaultTreeIcon:"mdi-subdirectory-arrow-right",record:!1,dialog:!1,maximized:!0,moduleName:"",iconSize:"18px",tree:{topCategory:{icon:"mdi-file-tree",label:"JS_KB_MAIN_CATEGORIES"},categories:{}// getters
}},getters:ct,actions:dt,mutations:lt}),Vue.mixin({methods:{translate(e){return app.vtranslate(e)}}}),window.KnowledgeBase={component:We,mount(e){return We.state=e.state,new Vue({store:nt,render:e=>e(We),methods:{...mt(["fetchCategories","initState"])},async created(){await this.initState(e.state)}}).$mount(e.el)}},window.ArticlePreviewVueComponent={component:rt,mount(e){return rt.state=e.state,new Vue({store:nt,render:e=>e(rt)}).$mount(e.el)}},window.KnowledgeBaseModalVueComponent={component:tt,mount(e){return tt.state=e.state,new Vue({store:nt,render:e=>e(tt)}).$mount(e.el)}}})();
//# sourceMappingURL=KnowledgeBase.vue.js.map
