{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/**\n * InRelation SlaPolicy\n *\n * @description InRelation scripts for SlaPolicy module\n * @license     YetiForce Public License 3.0\n * @author      Mariusz Krzaczkowski <m.krzaczkowski@yetiforce.com>\n */\n'use strict';\n\nVtiger_Detail_Js(\n\t'ServiceContracts_Detail_Js',\n\t{},\n\t{\n\t\t/**\n\t\t * Hide all settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\thideAll() {\n\t\t\tthis.container.find('.js-sla-policy-template, .js-sla-policy-custom').addClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Show template settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\tshowTemplateSettings() {\n\t\t\tthis.container.find('.js-sla-policy-template').removeClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Show custom settings\n\t\t *\n\t\t * @return  {self}\n\t\t */\n\t\tshowCustomSettings() {\n\t\t\tthis.container.find('.js-sla-policy-custom').removeClass('d-none');\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Get template table\n\t\t * @param {Array} rows\n\t\t *\n\t\t * @returns {String} HTML\n\t\t */\n\t\tgetTemplateTableHtml(rows) {\n\t\t\tlet somethingChecked = false;\n\t\t\tfor (let row of rows) {\n\t\t\t\tif (row.checked) {\n\t\t\t\t\tsomethingChecked = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!somethingChecked && typeof rows[0] !== 'undefined') {\n\t\t\t\trows[0].checked = true;\n\t\t\t}\n\t\t\treturn `<div class=\"col-12\"><table class=\"table js-sla-policy-template-table\">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th></th>\n\t\t\t\t<th>${app.vtranslate('JS_POLICY_NAME')}</th>\n\t\t\t\t<th>${app.vtranslate('JS_OPERATIONAL_HOURS')}</th>\n\t\t\t\t<th>${app.vtranslate('JS_REACTION_TIME')}</th>\n\t\t\t\t<th>${app.vtranslate('JS_IDLE_TIME')}</th>\n\t\t\t\t<th>${app.vtranslate('JS_RESOLVE_TIME')}</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t${rows\n\t\t\t.map(row => {\n\t\t\t\treturn `<tr>\n\t\t\t\t<td><input type=\"radio\" name=\"policy_id\" value=\"${row.id}\"${row.checked ? 'checked=\"checked\"' : ''}></td>\n\t\t\t\t<td>${row.name}</td>\n\t\t\t\t<td>${row.operational_hours}</td>\n\t\t\t\t<td>${row.reaction_time}</td>\n\t\t\t\t<td>${row.idle_time}</td>\n\t\t\t\t<td>${row.resolve_time}</td>\n\t\t\t</tr>`;\n\t\t\t})\n\t\t\t.join('')}\n\t\t</tbody>\n\t\t</table>\n\t\t</div>`;\n\t\t},\n\n\t\t/**\n\t\t * Load predefined sla policy templates\n\t\t */\n\t\tloadTemplates() {\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: 'ServiceContracts',\n\t\t\t\taction: 'PolicyTemplatesAjax',\n\t\t\t\ttargetModule: this.targetModule,\n\t\t\t\trecord: Number($('#recordId').val())\n\t\t\t}).done(data => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (data.success) {\n\t\t\t\t\tthis.container.find('.js-sla-policy-template--container').html(this.getTemplateTableHtml(data.result));\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * On policy type change event handler\n\t\t */\n\t\tonPolicyTypeChange() {\n\t\t\tthis.policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tif (this.policyType === 1) {\n\t\t\t\tthis.hideAll()\n\t\t\t\t\t.showTemplateSettings()\n\t\t\t\t\t.loadTemplates();\n\t\t\t} else if (this.policyType === 2) {\n\t\t\t\tthis.hideAll().showCustomSettings();\n\t\t\t} else {\n\t\t\t\tthis.hideAll();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * On submit event handler\n\t\t *\n\t\t * @param {Event} ev\n\t\t */\n\t\tonSubmit(ev) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t\tconst policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tconst policyId = Number(this.container.find('[name=\"policy_id\"]:checked').val());\n\t\t\tif (policyType === 2 && !this.container.validationEngine('validate')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (policyType === 2 && !this.container.find('.js-custom-row').length) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'notice',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (policyType === 1 && isNaN(policyId)) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NO_ITEM_SELECTED'),\n\t\t\t\t\ttype: 'notice',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst params = this.container.serializeFormData();\n\t\t\tparams.module = 'ServiceContracts';\n\t\t\tparams.action = 'PolicySaveAjax';\n\t\t\tparams.targetModule = this.targetModule;\n\t\t\tparams.record = $('#recordId').val();\n\t\t\tparams.policyType = policyType;\n\t\t\tparams.policyId = policyId;\n\t\t\tAppConnector.request({ data: params }).done(data => {\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\tif (Array.isArray(data.result)) {\n\t\t\t\t\tdata.result.forEach((row, index) => {\n\t\t\t\t\t\tconst rowElem = this.container.find('.js-custom-row').eq(index);\n\t\t\t\t\t\trowElem.data('id', row.id);\n\t\t\t\t\t\trowElem.find('.js-custom-row-id').val(row.id);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$.each(this.container.find('.js-custom-row'), (index, rowElem) => {\n\t\t\t\t\t\trowElem = $(rowElem);\n\t\t\t\t\t\trowElem.data('id', 0);\n\t\t\t\t\t\trowElem.find('.js-custom-row-id').val(0);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\ttype: 'success',\n\t\t\t\t\tanimation: 'show'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register add record button click\n\t\t */\n\t\tregisterAddRecordBtnClick() {\n\t\t\tthis.container.find('.js-sla-policy-add-record-btn').on('click', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tconst index = this.container.find('.js-custom-row').length;\n\t\t\t\tconst row = $(`<div class=\"card js-custom-row shadow-sm mb-2\" data-id=\"0\" data-js=\"container\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div class=\"d-flex\">\n\t\t\t\t\t<div class=\"d-block\" style=\"flex-grow:1\">\n\t\t\t\t\t\t<div class=\"row no-gutters\">\n\t\t\t\t\t\t\t<div class=\"col-5 pr-2\">\n\t\t\t\t\t\t\t\t<label>${app.vtranslate('JS_BUSINESS_HOURS')}</label>\n\t\t\t\t\t\t\t\t<select class=\"select2\" name=\"business_hours[${index}][]\" multiple data-validation-engine=\"validate[required,funcCall[Vtiger_Base_Validator_Js.invokeValidation]]\">\n\t\t\t\t\t\t\t\t${this.businessHours\n\t\t\t\t\t\t\t\t\t.map(businessHours => {\n\t\t\t\t\t\t\t\t\t\treturn `<option value=\"${businessHours.id}\">${businessHours.name}</option>`;\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.join('')}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2 pr-2\">\n\t\t\t\t\t\t\t\t<label>${app.vtranslate('JS_REACTION_TIME')}</label>\n\t\t\t\t\t\t\t\t<div class=\"input-group time\">\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"reaction_time[${index}]\" class=\"c-time-period\" value=\"1:d\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2 pr-2\">\n\t\t\t\t\t\t\t\t<label>${app.vtranslate('JS_IDLE_TIME')}</label>\n\t\t\t\t\t\t\t\t<div class=\"input-group time\">\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"idle_time[${index}]\" class=\"c-time-period\" value=\"1:d\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2 pr-2\">\n\t\t\t\t\t\t\t\t<label>${app.vtranslate('JS_RESOLVE_TIME')}</label>\n\t\t\t\t\t\t\t\t<div class=\"input-group time\">\n\t\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"resolve_time[${index}]\" class=\"c-time-period\" value=\"1:d\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"row mt-2\">\n\t\t\t\t\t\t\t<div class=\"js-conditions-col col\">\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"rowid[${index}]\" value=\"0\" class=\"js-custom-row-id\" />\n\t\t\t\t\t\t\t\t<input type=\"hidden\" name=\"conditions[${index}]\" class=\"js-conditions-value\" value=\"{}\" data-js=\"container\">\n\t\t\t\t\t\t\t\t${this.container.find('.js-conditions-template').html()}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"d-inline-flex text-right border-left\" style=\"flex-grow:0\">\n\t\t\t\t\t\t<div class=\"d-inline-block align-center\" style=\"margin:auto 0;\">\n\t\t\t\t\t\t\t<a href class=\"btn btn-danger ml-4 js-delete-row-action\"><span class=\"fas fa-trash-alt\"></span></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`);\n\t\t\t\tApp.Fields.TimePeriod.register(row);\n\t\t\t\tthis.registerDelBtnClick(row);\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(row.find('.select2'));\n\t\t\t\tthis.registerConditionBuilder(\n\t\t\t\t\trow.find('.js-condition-builder').eq(0),\n\t\t\t\t\tthis.container.find('.js-conditions-col').length\n\t\t\t\t);\n\t\t\t\tthis.container.find('.js-custom-conditions').append(row);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Register delete button click\n\t\t *\n\t\t * @param {jQuery} container\n\t\t */\n\t\tregisterDelBtnClick(container) {\n\t\t\tcontainer.find('.js-delete-row-action').on('click', e => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tconst row = $(e.target).closest('.js-custom-row');\n\t\t\t\tconst rowId = Number(row.data('id'));\n\t\t\t\tif (!rowId) {\n\t\t\t\t\trow.remove();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst progress = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: 'ServiceContracts',\n\t\t\t\t\taction: 'PolicyDeleteAjax',\n\t\t\t\t\ttargetModule: this.targetModule,\n\t\t\t\t\trecord: rowId\n\t\t\t\t}).done(data => {\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t$(e.target)\n\t\t\t\t\t\t.closest('.card')\n\t\t\t\t\t\t.remove();\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * On condition change event\n\t\t *\n\t\t * @param   {Vtiger_ConditionBuilder_Js}  instance\n\t\t */\n\t\tonConditionsChange(instance) {\n\t\t\tconst index = this.conditionBuilders.indexOf(instance);\n\t\t\tthis.conditionsBuildersContainers[index]\n\t\t\t\t.parent()\n\t\t\t\t.find('.js-conditions-value')\n\t\t\t\t.val(JSON.stringify(instance.getConditions()));\n\t\t},\n\n\t\t/**\n\t\t * Register condition builder\n\t\t *\n\t\t * @param {jQuery} container\n\t\t * @param {Number} index\n\t\t */\n\t\tregisterConditionBuilder(container, index) {\n\t\t\tthis.conditionBuilders[index] = new Vtiger_ConditionBuilder_Js(\n\t\t\t\tcontainer,\n\t\t\t\tthis.targetModule,\n\t\t\t\tthis.onConditionsChange.bind(this)\n\t\t\t);\n\t\t\tthis.conditionBuilders[index].registerEvents();\n\t\t\tthis.conditionsBuildersContainers[index] = container;\n\t\t},\n\n\t\t/**\n\t\t * Init sla policy events\n\t\t */\n\t\tinitSlaPolicy() {\n\t\t\tthis.container = this.getForm();\n\t\t\tconsole.log(this.container);\n\t\t\tthis.policyType = Number(this.container.find('[name=\"policy_type\"]:checked').val());\n\t\t\tthis.targetModule = this.container.find('[name=\"target\"]').val();\n\t\t\tthis.businessHours = JSON.parse(this.container.find('.js-all-business-hours').val());\n\t\t\tthis.conditionBuilders = [];\n\t\t\tthis.conditionsBuildersContainers = [];\n\t\t\tthis.container.off('submit').on('submit', this.onSubmit.bind(this));\n\t\t\tthis.container.find('.js-sla-policy-type-radio').on('click', e => this.onPolicyTypeChange());\n\t\t\tthis.onPolicyTypeChange();\n\t\t\tApp.Fields.TimePeriod.register(this.container);\n\t\t\tthis.registerAddRecordBtnClick();\n\t\t\tthis.registerDelBtnClick(this.container);\n\t\t\t$.each(this.container.find('.js-custom-conditions .js-condition-builder'), (index, col) => {\n\t\t\t\tthis.registerConditionBuilder($(col), index);\n\t\t\t});\n\t\t},\n\n\t\tregisterEvents: function() {\n\t\t\tthis._super();\n\t\t\tlet detailViewForm = this.getForm();\n\t\t\tif (detailViewForm.find('.js-sla-policy').length) {\n\t\t\t\tthis.initSlaPolicy();\n\t\t\t}\n\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (event, data, instance) => {\n\t\t\t\tif (instance.getForm().find('.js-sla-policy').length) {\n\t\t\t\t\tinstance.initSlaPolicy();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["Vtiger_Detail_Js","hideAll","container","find","addClass","showTemplateSettings","removeClass","showCustomSettings","getTemplateTableHtml","rows","row","checked","somethingChecked","app","vtranslate","map","id","name","operational_hours","reaction_time","idle_time","resolve_time","join","loadTemplates","progress","jQuery","progressIndicator","position","blockInfo","enabled","AppConnector","request","module","action","targetModule","record","Number","$","val","done","mode","data","success","html","result","onPolicyTypeChange","policyType","onSubmit","ev","preventDefault","stopPropagation","policyId","validationEngine","length","showPnotify","text","type","animation","isNaN","params","serializeFormData","Array","isArray","forEach","index","eq","rowElem","each","Vtiger_Helper_Js","registerAddRecordBtnClick","on","e","businessHours","App","Fields","TimePeriod","register","registerDelBtnClick","Picklist","showSelect2ElementView","registerConditionBuilder","append","target","closest","rowId","remove","onConditionsChange","instance","conditionBuilders","indexOf","conditionsBuildersContainers","parent","JSON","stringify","getConditions","bind","registerEvents","initSlaPolicy","getForm","console","log","parse","off","col","_super","detailViewForm","event"],"mappings":"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"}