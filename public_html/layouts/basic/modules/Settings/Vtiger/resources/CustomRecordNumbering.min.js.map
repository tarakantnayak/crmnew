{"version":3,"file":"CustomRecordNumbering.min.js","sources":["CustomRecordNumbering.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\n$.Class('Settings_CustomRecordNumbering_Js', {}, {\n\n\tform: false,\n\tgetForm: function () {\n\t\tif (this.form == false) {\n\t\t\tthis.form = jQuery('#EditView');\n\t\t}\n\t\treturn this.form;\n\t},\n\n\t/**\n\t * Function to register change event for source module field\n\t */\n\tregisterOnChangeEventOfSourceModule() {\n\t\tconst editViewForm = this.getForm();\n\t\teditViewForm.find('[name=\"sourceModule\"]').on('change', function (e) {\n\t\t\t$('.saveButton').removeAttr('disabled');\n\t\t\tAppConnector.request({\n\t\t\t\t'module': app.getModuleName(),\n\t\t\t\t'parent': app.getParentModuleName(),\n\t\t\t\t'action': \"CustomRecordNumberingAjax\",\n\t\t\t\t'mode': \"getModuleCustomNumberingData\",\n\t\t\t\t'sourceModule': $(e.currentTarget).val()\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data) {\n\t\t\t\t\teditViewForm.find('[name=\"prefix\"]').val(data.result.prefix);\n\t\t\t\t\teditViewForm.find('[name=\"leading_zeros\"]').val(data.result.leading_zeros).trigger('change');\n\t\t\t\t\teditViewForm.find('[name=\"reset_sequence\"]').val(data.result.reset_sequence).trigger('change');\n\t\t\t\t\teditViewForm.find('[name=\"postfix\"]').val(data.result.postfix);\n\t\t\t\t\teditViewForm.find('[name=\"sequenceNumber\"]').val(data.result.cur_id);\n\t\t\t\t\teditViewForm.find('[name=\"sequenceNumber\"]').data('oldSequenceNumber', data.result.cur_id);\n\t\t\t\t\tlet options = '';\n\t\t\t\t\tfor (var index in data.result.picklists) {\n\t\t\t\t\t\toptions += '<option value=\"picklist:' + index + '\">' + data.result.picklists[index] + '</option>';\n\t\t\t\t\t}\n\t\t\t\t\teditViewForm.find('#picklistVariables').html(options)\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Function to register event for saving module custom numbering\n\t */\n\tsaveModuleCustomNumbering() {\n\t\tif ($('.saveButton').attr(\"disabled\")) {\n\t\t\treturn;\n\t\t}\n\t\tconst editViewForm = this.getForm();\n\t\tconst sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\tconst prefix = editViewForm.find('[name=\"prefix\"]');\n\t\tconst leadingZeros = editViewForm.find('[name=\"leading_zeros\"]').val();\n\t\tconst currentPrefix = $.trim(prefix.val());\n\t\tconst postfix = editViewForm.find('[name=\"postfix\"]');\n\t\tconst currentPostfix = jQuery.trim(postfix.val());\n\t\tconst sequenceNumberElement = editViewForm.find('[name=\"sequenceNumber\"]');\n\t\tconst sequenceNumber = sequenceNumberElement.val();\n\t\tconst oldSequenceNumber = sequenceNumberElement.data('oldSequenceNumber');\n\t\tif ((sequenceNumber < oldSequenceNumber) && (currentPrefix === prefix.data('oldPrefix')) && (currentPostfix === postfix.data('oldPostfix'))) {\n\t\t\tsequenceNumberElement.validationEngine('showPrompt', app.vtranslate('JS_SEQUENCE_NUMBER_MESSAGE') + \" \" + oldSequenceNumber, 'error', 'topLeft', true);\n\t\t\treturn;\n\t\t}\n\t\teditViewForm.find('.saveButton').attr(\"disabled\", \"disabled\");\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\taction: \"CustomRecordNumberingAjax\",\n\t\t\tmode: \"saveModuleCustomNumberingData\",\n\t\t\tsourceModule: sourceModule,\n\t\t\tprefix: currentPrefix,\n\t\t\tleading_zeros: leadingZeros,\n\t\t\tpostfix: currentPostfix,\n\t\t\tsequenceNumber: sequenceNumber,\n\t\t\treset_sequence: editViewForm.find('[name=\"reset_sequence\"]').val(),\n\t\t}).done(function (data) {\n\t\t\tif (data.success === true) {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttext: app.vtranslate('JS_RECORD_NUMBERING_SAVED_SUCCESSFULLY_FOR') + \" \" + editViewForm.find('option[value=\"' + sourceModule + '\"]').text()\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({\n\t\t\t\t\ttext: currentPrefix + \" \" + app.vtranslate(data.error.message),\n\t\t\t\t\ttype: 'error'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Function to handle update record with the given sequence number\n\t */\n\tregisterEventToUpdateRecordsWithSequenceNumber() {\n\t\tconst editViewForm = this.getForm();\n\t\teditViewForm.find('[name=\"updateRecordWithSequenceNumber\"]').on('click', function () {\n\t\t\tconst sourceModule = editViewForm.find('[name=\"sourceModule\"]').val();\n\t\t\tAppConnector.request({\n\t\t\t\t'module': app.getModuleName(),\n\t\t\t\t'parent': app.getParentModuleName(),\n\t\t\t\t'action': \"CustomRecordNumberingAjax\",\n\t\t\t\t'mode': \"updateRecordsWithSequenceNumber\",\n\t\t\t\t'sourceModule': sourceModule\n\t\t\t}).done(function (data) {\n\t\t\t\tif (data.success === true) {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_RECORD_NUMBERING_UPDATED_SUCCESSFULLY_FOR') + \" \" + editViewForm.find('option[value=\"' + sourceModule + '\"]').text()});\n\t\t\t\t} else {\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(data.error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Function to register change event for prefix,postfix,reset_sequence and sequence number\n\t */\n\tregisterChangeEvent() {\n\t\tthis.getForm().find('[name=\"prefix\"],[name=\"leading_zeros\"],[name=\"sequenceNumber\"],[name=\"postfix\"],[name=\"reset_sequence\"]').on('change', this.checkPrefix.bind(this))\n\t},\n\n\tregisterCopyClipboard: function (editViewForm) {\n\t\tnew ClipboardJS('#customVariableCopy', {\n\t\t\ttext: function (trigger) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t\treturn '{{' + editViewForm.find('#customVariables').val() + '}}';\n\t\t\t}\n\t\t});\n\t\tnew ClipboardJS('#picklistVariableCopy', {\n\t\t\ttext: function (trigger) {\n\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: app.vtranslate('JS_NOTIFY_COPY_TEXT'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t\treturn '{{' + editViewForm.find('#picklistVariables').val() + '}}';\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n\t * Check if reset sequence appears in prefix or postfix to prevent duplicate number generation\n\t * @returns {boolean}\n\t */\n\tcheckPrefix() {\n\t\tlet sequenceExists = false;\n\t\tconst editViewForm = this.getForm();\n\t\tconst value = editViewForm.find('[name=\"reset_sequence\"]').val();\n\t\tconst prefix = editViewForm.find('[name=\"prefix\"]').val();\n\t\tconst postfix = editViewForm.find('[name=\"postfix\"]').val();\n\t\tconst saveBtn = editViewForm.find('.saveButton');\n\t\tswitch (value) {\n\t\t\tcase 'Y':\n\t\t\t\tif (prefix.indexOf('{{YY}}') === -1 && prefix.indexOf('{{YYYY}}') === -1 && postfix.indexOf('{{YY}}') === -1 && postfix.indexOf('{{YYYY}}') === -1) {\n\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_YEAR_VARIABLE')\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'M':\n\t\t\t\tif (prefix.indexOf('{{MM}}') === -1 && prefix.indexOf('{{M}}') === -1 && postfix.indexOf('{{MM}}') === -1 && postfix.indexOf('{{M}}') === -1) {\n\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_MONTH_VARIABLE')\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'D':\n\t\t\t\tif (prefix.indexOf('{{DD}}') === -1 && prefix.indexOf('{{D}}') === -1 && postfix.indexOf('{{DD}}') === -1 && postfix.indexOf('{{D}}') === -1) {\n\t\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\ttext: app.vtranslate('JS_RS_ADD_DAY_VARIABLE')\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\t\tsequenceExists = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'X':\n\t\t\tdefault:\n\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\tsequenceExists = true;\n\t\t\t\tbreak;\n\t\t}\n\t\tif (sequenceExists) {\n\t\t\tlet regex = new RegExp(\"{{picklist:([a-z0-9_]+)}}\", 'g');\n\t\t\tlet regexResult = (postfix + prefix).match(regex);\n\t\t\tif (regexResult && regexResult.length > 1) {\n\t\t\t\tVtiger_Helper_Js.showMessage({\n\t\t\t\t\ttype: 'error',\n\t\t\t\t\ttext: app.vtranslate('JS_PICKLIST_TOO_MANY')\n\t\t\t\t});\n\t\t\t\tsequenceExists = false;\n\t\t\t\tsaveBtn.attr('disabled', 'disabled');\n\t\t\t} else {\n\t\t\t\tsaveBtn.removeAttr('disabled');\n\t\t\t\tsequenceExists = true;\n\t\t\t}\n\t\t}\n\t\treturn sequenceExists;\n\t},\n\n\t/**\n\t * Function to register events\n\t */\n\tregisterEvents: function () {\n\t\tconst thisInstance = this;\n\t\tconst editViewForm = this.getForm();\n\t\tthis.registerOnChangeEventOfSourceModule();\n\t\tthis.registerEventToUpdateRecordsWithSequenceNumber();\n\t\tthis.registerChangeEvent();\n\t\tlet params = app.validationEngineOptions;\n\t\tparams.onValidationComplete = function (editViewForm, valid) {\n\t\t\tif (valid) {\n\t\t\t\tthisInstance.saveModuleCustomNumbering();\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\teditViewForm.validationEngine('detach');\n\t\teditViewForm.validationEngine('attach', params);\n\t\tthis.registerCopyClipboard(editViewForm);\n\t}\n});\njQuery(document).ready(function () {\n\tvar customRecordNumberingInstance = new Settings_CustomRecordNumbering_Js();\n\tcustomRecordNumberingInstance.registerEvents();\n});\n"],"names":["$","Class","form","getForm","jQuery","registerOnChangeEventOfSourceModule","editViewForm","find","on","e","removeAttr","AppConnector","request","app","getModuleName","getParentModuleName","currentTarget","val","done","data","result","prefix","leading_zeros","trigger","reset_sequence","postfix","cur_id","picklists","options","index","html","saveModuleCustomNumbering","attr","sourceModule","leadingZeros","currentPrefix","trim","currentPostfix","sequenceNumberElement","sequenceNumber","oldSequenceNumber","validationEngine","vtranslate","module","parent","action","mode","success","Settings_Vtiger_Index_Js","showMessage","text","error","message","type","registerEventToUpdateRecordsWithSequenceNumber","registerChangeEvent","checkPrefix","bind","registerCopyClipboard","showPnotify","value","saveBtn","indexOf","Vtiger_Helper_Js","sequenceExists","regexResult","match","regex","length","registerEvents","validationEngineOptions","params","onValidationComplete","valid","thisInstance","document","ready","customRecordNumberingInstance"],"mappings":"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"}