'use strict';

Settings_PDF_Edit_Js('Settings_PDF_Edit2_Js',{},{step2Container:!1,advanceFilterInstance:!1,init:function init(){this.initialize();},getContainer:function getContainer(){return this.step2Container},setContainer:function setContainer(element){return this.step2Container=element,this},initialize:function initialize(container){'undefined'==typeof container&&(container=$('#pdf_step2')),container.is('#pdf_step2')?this.setContainer(container):this.setContainer($('#pdf_step2'));},submit:function submit(){var aDeferred=$.Deferred(),form=this.getContainer(),formData=form.serializeFormData(),progressIndicatorElement=$.progressIndicator({position:'html',blockInfo:{enabled:!0}}),saveData=form.serializeFormData();return saveData.action='Save',saveData.step=2,AppConnector.request(saveData).done(function(data){data=JSON.parse(data),!0===data.success&&AppConnector.request(formData).done(function(data){form.hide(),aDeferred.resolve(data),progressIndicatorElement.progressIndicator({mode:'hide'}),Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate('JS_PDF_SAVED_SUCCESSFULLY')});}).fail(function(error,err){app.errorLog(error,err);});}).fail(function(error,err){app.errorLog(error,err);}),aDeferred.promise()},registerCancelStepClickEvent:function registerCancelStepClickEvent(form){$('button.cancelLink',form).on('click',function(){window.history.back();});},registerEvents:function registerEvents(){var container=this.getContainer(),opts=app.validationEngineOptions;opts.onValidationComplete=function(form,valid){return valid},opts.promptPosition='topLeft',container.validationEngine(opts),App.Fields.Picklist.showSelect2ElementView(container.find('.select2')),this.registerCancelStepClickEvent(container),App.Fields.Text.registerCopyClipboard(container);}});
//# sourceMappingURL=Edit2.min.js.map
