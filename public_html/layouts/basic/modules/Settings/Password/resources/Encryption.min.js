'use strict';

jQuery.Class('Settings_Password_Encryption_Js',{},{container:null,setContainer:function setContainer(element){this.container=element;},getContainer:function getContainer(){return this.container},registerChangeMethodName:function registerChangeMethodName(){var container=this.getContainer(),methodElement=container.find('[name="methods"]'),mapLengthVector=JSON.parse($('[name="lengthVectors"]').val());methodElement.on('change',function(){var length=mapLengthVector[methodElement.val()],validator='',passwordElement=container.find('[name="password"]');'undefined'==typeof length||0===length?(passwordElement.val(''),passwordElement.attr('disabled','disabled')):(passwordElement.removeAttr('disabled'),validator='validate[required,maxSize['+length+'],minSize['+length+']]'),passwordElement.attr('data-validation-engine',validator);});},registerForm:function registerForm(){var thisInstance=this,container=thisInstance.getContainer();container.on('submit',function(event){if(event.preventDefault(),container.validationEngine(app.validationEngineOptions),container.validationEngine('validate')){var progressIndicatorElement=jQuery.progressIndicator({position:'html',blockInfo:{enabled:!0}});AppConnector.request(container.serializeFormData()).done(function(response){progressIndicatorElement.progressIndicator({mode:'hide'}),Vtiger_Helper_Js.showPnotify({text:response.result,type:'info'});});}});},registerPreviewPassword:function registerPreviewPassword(){var container=this.getContainer(),button=container.find('.previewPassword'),passwordElement=container.find('[name="password"]');button.on('mousedown',function(){passwordElement.attr('type','text');}),button.on('mouseup',function(){passwordElement.attr('type','password');}),button.on('mouseout',function(){passwordElement.attr('type','password');});},registerEvents:function registerEvents(){this.setContainer($('.formEncryption')),this.registerForm(),this.registerChangeMethodName(),this.registerPreviewPassword();}});
//# sourceMappingURL=Encryption.min.js.map
