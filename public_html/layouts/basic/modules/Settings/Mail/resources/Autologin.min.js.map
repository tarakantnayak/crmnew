{"version":3,"file":"Autologin.min.js","sources":["Autologin.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Mail_Autologin_Js', {}, {\n\tregisterChangeUser: function () {\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.users', function () {\n\t\t\tvar row = jQuery(this).closest('tr');\n\t\t\tvar users = jQuery(this).val();\n\t\t\tif (users == null)\n\t\t\t\tusers = [];\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateUsers';\n\t\t\tparams['id'] = row.data('id');\n\t\t\tparams['user'] = users;\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterChangeConfig: function () {\n\t\tvar container = jQuery('.autologinContainer');\n\t\tcontainer.on('change', '.configCheckbox', function () {\n\t\t\tvar name = jQuery(this).attr('name');\n\t\t\tvar val = this.checked;\n\t\t\tvar progressIndicator = jQuery.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = app.getModuleName();\n\t\t\tparams['parent'] = app.getParentModuleName();\n\t\t\tparams['action'] = 'SaveAjax';\n\t\t\tparams['mode'] = 'updateConfig';\n\t\t\tparams['type'] = 'autologin';\n\t\t\tparams['name'] = name;\n\t\t\tparams['val'] = val;\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t\tvar params = {};\n\t\t\t\tparams['text'] = data.result.message;\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicator.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tthisInstance.registerChangeUser();\n\t\tthisInstance.registerChangeConfig();\n\t},\n});\n"],"names":["jQuery","Class","registerChangeUser","container","on","closest","users","val","progressIndicator","params","app","getModuleName","getParentModuleName","row","data","AppConnector","request","done","result","message","Settings_Vtiger_Index_Js","showMessage","fail","registerChangeConfig","attr","checked","name","registerEvents","thisInstance"],"mappings":";;AAGAA,OAAOC,KAAP,CAAa,4BAAb,CAA2C,EAA3C,CAA+C,CAC9CC,mBAAoB,6BAAY,CAC/B,cAAgBF,OAAO,qBAAP,CAAhB,CACAG,UAAUC,EAAV,CAAa,QAAb,CAAuB,QAAvB,CAAiC,UAAY,SAClCJ,OAAO,IAAP,EAAaK,OAAb,CAAqB,IAArB,CADkC,CAExCC,MAAQN,OAAO,IAAP,EAAaO,GAAb,EAFgC,CAG/B,IAAT,OAHwC,GAI3CD,MAAQ,EAJmC,wBAKpBN,OAAOQ,iBAAP,EALoB,CAMxCC,OAAS,EAN+B,CAO5CA,cAAmBC,IAAIC,aAAJ,EAPyB,CAQ5CF,cAAmBC,IAAIE,mBAAJ,EARyB,CAS5CH,cAAmB,UATyB,CAU5CA,YAAiB,aAV2B,CAW5CA,UAAeI,IAAIC,IAAJ,CAAS,IAAT,CAX6B,CAY5CL,YAAiBH,KAZ2B,CAa5CS,aAAaC,OAAb,CAAqBP,MAArB,EAA6BQ,IAA7B,CAAkC,SAAUH,IAAV,CAAgB,CACjDN,kBAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,CADiD,CAEjD,WAAa,EAAb,CACAC,YAAiBK,KAAKI,MAAL,CAAYC,OAHoB,CAIjDC,yBAAyBC,WAAzB,CAAqCZ,MAArC,EACA,CALD,EAKGa,IALH,CAKQ,UAAiB,CACxBd,kBAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,EACA,CAPD,EAQA,CArBD,EAsBA,CAzB6C,CA0B9Ce,qBAAsB,+BAAY,CACjC,cAAgBvB,OAAO,qBAAP,CAAhB,CACAG,UAAUC,EAAV,CAAa,QAAb,CAAuB,iBAAvB,CAA0C,UAAY,UAC1CJ,OAAO,IAAP,EAAawB,IAAb,CAAkB,MAAlB,CAD0C,CAEjDjB,IAAM,KAAKkB,OAFsC,CAGjDjB,kBAAoBR,OAAOQ,iBAAP,EAH6B,CAIjDC,OAAS,EAJwC,CAKrDA,cAAmBC,IAAIC,aAAJ,EALkC,CAMrDF,cAAmBC,IAAIE,mBAAJ,EANkC,CAOrDH,cAAmB,UAPkC,CAQrDA,YAAiB,cARoC,CASrDA,YAAiB,WAToC,CAUrDA,YAAiBiB,IAVoC,CAWrDjB,WAAgBF,GAXqC,CAarDQ,aAAaC,OAAb,CAAqBP,MAArB,EAA6BQ,IAA7B,CAAkC,SAAUH,IAAV,CAAgB,CACjDN,kBAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,CADiD,CAEjD,WAAa,EAAb,CACAC,YAAiBK,KAAKI,MAAL,CAAYC,OAHoB,CAIjDC,yBAAyBC,WAAzB,CAAqCZ,MAArC,EACA,CALD,EAKGa,IALH,CAKQ,UAAiB,CACxBd,kBAAkBA,iBAAlB,CAAoC,CAAC,KAAQ,MAAT,CAApC,EACA,CAPD,EAQA,CArBD,EAsBA,CAlD6C,CAmD9CmB,eAAgB,yBAAY,CAC3B,iBAAmB,IAAnB,CACAC,aAAa1B,kBAAb,EAF2B,CAG3B0B,aAAaL,oBAAb,GACA,CAvD6C,CAA/C"}