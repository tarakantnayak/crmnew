{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_Index_Js('Settings_Logs_Index_Js', {\n\tgetWarningsList: function() {\n\t\tconst thisInstance = this;\n\t\tconst container = $('.js-warnings-content');\n\t\tconst progressIndicator = $.progressIndicator({\n\t\t\tmessage: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\tblockInfo: { enabled: true }\n\t\t});\n\t\tAppConnector.request({\n\t\t\tmodule: app.getModuleName(),\n\t\t\tparent: app.getParentModuleName(),\n\t\t\tview: app.getViewName(),\n\t\t\tmode: 'getWarningsList',\n\t\t\tactive: $('.js-warnings-index-page .js-switch--warnings')\n\t\t\t\t.first()\n\t\t\t\t.is(':checked'),\n\t\t\tfolder: thisInstance.getSelectedFolders()\n\t\t})\n\t\t\t.done(data => {\n\t\t\t\tcontainer.html(data);\n\t\t\t\tthisInstance.registerWarningsList(container);\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t})\n\t\t\t.fail(() => {\n\t\t\t\tprogressIndicator.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t},\n\tregisterWarningsList: function(container) {\n\t\tcontainer.find('table').dataTable({\n\t\t\torder: [[2, 'desc']]\n\t\t});\n\t\tcontainer.find('.showDescription').on('click', e => {\n\t\t\tapp.showModalWindow(\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('td')\n\t\t\t\t\t.find('.showDescriptionContent')\n\t\t\t\t\t.html()\n\t\t\t);\n\t\t});\n\t\tcontainer.find('.setIgnore').on('click', e => {\n\t\t\tcontainer.find('.js-popover-tooltip').popover('hide');\n\t\t\tconst data = $(e.currentTarget)\n\t\t\t\t.closest('tr')\n\t\t\t\t.data();\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\taction: 'SystemWarnings',\n\t\t\t\tmode: 'update',\n\t\t\t\tid: data.id,\n\t\t\t\tparams: data.status\n\t\t\t}).done(() => {\n\t\t\t\tthis.getWarningsList(container);\n\t\t\t});\n\t\t});\n\t},\n\tregisterWarningsFolders: function(container) {\n\t\tconst thisInstance = this;\n\t\tlet data = [];\n\t\tconst treeValues = container.find('.js-tree-values').val();\n\t\tif (treeValues) {\n\t\t\tdata = JSON.parse(treeValues);\n\t\t}\n\t\tcontainer\n\t\t\t.find('#jstreeContainer')\n\t\t\t.jstree({\n\t\t\t\tcore: {\n\t\t\t\t\tdata: data,\n\t\t\t\t\tthemes: {\n\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\ticons: false\n\t\t\t\t\t},\n\t\t\t\t\tcheck_callback: true\n\t\t\t\t},\n\t\t\t\tplugins: ['checkbox']\n\t\t\t})\n\t\t\t.on('loaded.jstree', function(event, data) {\n\t\t\t\t$(this).jstree('open_all');\n\t\t\t})\n\t\t\t.on('changed.jstree', function(e, data) {\n\t\t\t\tif (data.action != 'model') {\n\t\t\t\t\tthisInstance.getWarningsList();\n\t\t\t\t}\n\t\t\t});\n\t\t$.extend($.fn.dataTable.defaults, {\n\t\t\tlanguage: {\n\t\t\t\tsLengthMenu: app.vtranslate('JS_S_LENGTH_MENU'),\n\t\t\t\tsZeroRecords: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfo: app.vtranslate('JS_S_INFO'),\n\t\t\t\tsInfoEmpty: app.vtranslate('JS_S_INFO_EMPTY'),\n\t\t\t\tsSearch: app.vtranslate('JS_SEARCH'),\n\t\t\t\tsEmptyTable: app.vtranslate('JS_NO_RESULTS_FOUND'),\n\t\t\t\tsInfoFiltered: app.vtranslate('JS_S_INFO_FILTERED'),\n\t\t\t\tsLoadingRecords: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\tsProcessing: app.vtranslate('JS_LOADING_OF_RECORDS'),\n\t\t\t\toPaginate: {\n\t\t\t\t\tsFirst: app.vtranslate('JS_S_FIRST'),\n\t\t\t\t\tsPrevious: app.vtranslate('JS_S_PREVIOUS'),\n\t\t\t\t\tsNext: app.vtranslate('JS_S_NEXT'),\n\t\t\t\t\tsLast: app.vtranslate('JS_S_LAST')\n\t\t\t\t},\n\t\t\t\toAria: {\n\t\t\t\t\tsSortAscending: app.vtranslate('JS_S_SORT_ASCENDING'),\n\t\t\t\t\tsSortDescending: app.vtranslate('JS_S_SORT_DESCENDING')\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcontainer.find('.js-switch--warnings').on('change', () => {\n\t\t\tthisInstance.getWarningsList();\n\t\t});\n\t},\n\tregisterEventsLoadContent: function(thisInstance, mode, container) {\n\t\tthisInstance.registerWarningsFolders(container);\n\t}\n});\n"],"names":["Settings_Vtiger_Index_Js","getWarningsList","container","$","progressIndicator","message","app","vtranslate","blockInfo","enabled","AppConnector","request","module","getModuleName","parent","getParentModuleName","view","getViewName","mode","active","first","is","folder","thisInstance","getSelectedFolders","done","html","data","registerWarningsList","fail","find","dataTable","order","on","showModalWindow","e","currentTarget","closest","popover","action","id","params","status","registerWarningsFolders","treeValues","val","JSON","parse","jstree","core","themes","name","responsive","icons","check_callback","plugins","extend","fn","defaults","language","sLengthMenu","sZeroRecords","sInfo","sInfoEmpty","sSearch","sEmptyTable","sInfoFiltered","sLoadingRecords","sProcessing","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","registerEventsLoadContent"],"mappings":"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"}