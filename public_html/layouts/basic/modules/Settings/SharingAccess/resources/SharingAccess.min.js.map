{"version":3,"file":"SharingAccess.min.js","sources":["SharingAccess.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Sharing_Access_Js', {}, {\n\n\tcontentTable: false,\n\tcontentsContainer: false,\n\n\tinit: function () {\n\t\tthis.setContentTable('.sharingAccessDetails').setContentContainer('#sharingAccessContainer');\n\n\t},\n\n\tsetContentTable: function (element) {\n\t\tif (element instanceof jQuery) {\n\t\t\tthis.contentTable = element;\n\t\t\treturn this;\n\t\t}\n\t\tthis.contentTable = jQuery(element);\n\t\treturn this;\n\t},\n\n\tsetContentContainer: function (element) {\n\t\tif (element instanceof jQuery) {\n\t\t\tthis.contentsContainer = element;\n\t\t\treturn this;\n\t\t}\n\t\tthis.contentsContainer = jQuery(element);\n\t\treturn this;\n\t},\n\n\tgetContentTable: function () {\n\t\treturn this.contentTable;\n\t},\n\n\tgetContentContainer: function () {\n\t\treturn this.contentsContainer;\n\t},\n\n\tgetCustomRuleContainerClassName: function (parentModuleName) {\n\t\treturn 'js-' + parentModuleName + '-custom-rule-list';\n\t},\n\n\tshowCustomRulesNextToElement: function (parentElement, rulesListElement) {\n\t\tvar moduleName = parentElement.data('moduleName')\n\t\tvar trElementForRuleList = jQuery('<tr class=\"' + this.getCustomRuleContainerClassName(moduleName) + '\"><td class=\"js-custom-rule-container\" data-js=\"container\" colspan=\"6\"></td></tr>');\n\t\tjQuery('td', trElementForRuleList).append(rulesListElement);\n\t\tjQuery('.ruleListContainer', trElementForRuleList).css('display', 'none');\n\t\tparentElement.after(trElementForRuleList).addClass('collapseRow');\n\t\tjQuery('.ruleListContainer', trElementForRuleList).slideDown('slow');\n\t},\n\n\t/*\n\t * function to get custom rules data based on the module\n\t * @params: forModule.\n\t */\n\tgetCustomRules: function (forModule) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar params = {}\n\t\tparams['for_module'] = forModule;\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'IndexAjax';\n\t\tparams['mode'] = 'showRules';\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error) {\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\tsave: function (data) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tif (typeof data === \"undefined\") {\n\t\t\tdata = {};\n\t\t}\n\t\tAppConnector.request(data).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, errorThrown) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * function to Save the Custom Rule\n\t */\n\tsaveCustomRule: function (form, e) {\n\t\tvar thisInstance = this;\n\t\tvar data = form.serializeFormData();\n\t\tif (typeof data === \"undefined\") {\n\t\t\tdata = {};\n\t\t}\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tdata.module = app.getModuleName();\n\t\tdata.parent = app.getParentModuleName();\n\t\tdata.action = 'IndexAjax';\n\t\tdata.mode = 'saveRule';\n\t\tAppConnector.request(data).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tapp.hideModalWindow();\n\t\t\tthisInstance.displaySaveCustomRuleResponse(data);\n\t\t\tvar moduleName = jQuery('[name=\"for_module\"]', form).val();\n\t\t\tthisInstance.loadCustomRulesList(moduleName);\n\t\t});\n\t},\n\n\t/*\n\t * function to load the CustomRules List for the module after save the custom rule\n\t */\n\tloadCustomRulesList: function (moduleName) {\n\t\tvar thisInstance = this;\n\t\tvar contentTable = this.getContentTable();\n\n\t\tthisInstance.getCustomRules(moduleName).done(function (data) {\n\t\t\tvar customRuleListContainer = jQuery('.' + thisInstance.getCustomRuleContainerClassName(moduleName), contentTable);\n\t\t\tcustomRuleListContainer.find('td.js-custom-rule-container').html(data);\n\t\t});\n\t},\n\n\t/*\n\t * Function to display the SaveCustomRule response message\n\t */\n\tdisplaySaveCustomRuleResponse: function (data) {\n\t\tvar thisInstance = this;\n\t\tvar success = data['success'];\n\t\tvar params = {};\n\t\tif (success) {\n\t\t\tparams = {\n\t\t\t\ttext: app.vtranslate('JS_CUSTOM_RULE_SAVED_SUCCESSFULLY'),\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t} else {\n\t\t\tparams = {\n\t\t\t\ttext: app.vtranslate('JS_CUSTOM_RULE_SAVING_FAILED'),\n\t\t\t\ttype: 'error'\n\t\t\t};\n\t\t}\n\t\tthisInstance.showNotify(params);\n\t},\n\n\t//This will show the notification message of SaveCustomRule using pnotify\n\tshowNotify: function (customParams) {\n\t\tvar params = {\n\t\t\ttext: customParams.text,\n\t\t\ttype: customParams.type,\n\t\t\tdelay: '3000'\n\t\t};\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n\n\teditCustomRule: function (url) {\n\t\tvar thisInstance = this;\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true\n\t\t\t}\n\t\t});\n\t\tapp.showModalWindow(null, url, function (modalContainer) {\n\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\tvar form = modalContainer.find('.js-edit-rule-form');\n\t\t\tform.on('submit', function (e) {\n\t\t\t\t//To stop the submit of form\n\t\t\t\te.preventDefault();\n\t\t\t\tvar formElement = $(e.currentTarget);\n\t\t\t\tthisInstance.saveCustomRule(formElement, e);\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to delete Custom Rule from the list\n\t * @params: deleteElement.\n\t */\n\tdeleteCustomRule: function (deleteElement) {\n\t\tvar deleteUrl = deleteElement.data('url');\n\t\tvar currentRow = deleteElement.closest('.js-custom-rule-entries');\n\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\tVtiger_Helper_Js.showConfirmationBox({'message': message}).done(function (data) {\n\t\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\t\tif (data.success == true) {\n\t\t\t\t\tcurrentRow.fadeOut('slow');\n\t\t\t\t\tvar customRuleTable = currentRow.closest('.js-custom-rule-table');\n\t\t\t\t\t//after delete the custom rule, update the sequence number of existing rules\n\t\t\t\t\tvar nextRows = currentRow.nextAll('js-custom-rule-entries');\n\t\t\t\t\tif (nextRows.length > 0) {\n\t\t\t\t\t\tjQuery.each(nextRows, function (i, element) {\n\t\t\t\t\t\t\tvar currentSequenceElement = jQuery(element).find('.js-sequence-number');\n\t\t\t\t\t\t\tvar updatedNumber = parseInt(currentSequenceElement.text()) - 1;\n\t\t\t\t\t\t\tcurrentSequenceElement.text(updatedNumber);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tcurrentRow.remove();\n\t\t\t\t\tvar customRuleEntries = customRuleTable.find('.js-custom-rule-entries');\n\t\t\t\t\t//if there are no custom rule entries, we have to hide headers also and show the empty message div\n\t\t\t\t\tif (customRuleEntries.length < 1) {\n\t\t\t\t\t\tcustomRuleTable.find('.js-custom-rule-headers').fadeOut('slow').remove();\n\t\t\t\t\t\tcustomRuleTable.parent().find('.js-record-details').removeClass('d-none');\n\t\t\t\t\t\tcustomRuleTable.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to register click event for radio buttons\n\t */\n\tregisterSharingAccessEdit: function () {\n\t\tvar contentContainer = this.getContentContainer();\n\t\tcontentContainer.one('click', 'input:radio', function (e) {\n\t\t\tcontentContainer.find('button:submit').removeClass('d-none');\n\t\t});\n\t},\n\n\t/*\n\t * Function to register change event for dependent modules privileges\n\t */\n\tregisterDependentModulesPrivilegesChange: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContentContainer();\n\t\tvar contentTable = this.getContentTable();\n\t\tvar modulesList = JSON.parse(container.find('.dependentModules').val());\n\n\t\tjQuery.each(modulesList, function (moduleName, dependentList) {\n\t\t\tvar dependentPrivilege = contentTable.find('[data-module-name=\"' + moduleName + '\"]').find('[data-action-state=\"Private\"]');\n\t\t\tdependentPrivilege.on('change', function (e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\t\tvar message = app.vtranslate('JS_DEPENDENT_PRIVILEGES_SHOULD_CHANGE');\n\t\t\t\t\tbootbox.alert(message);\n\t\t\t\t\tjQuery.each(dependentList, function (index, module) {\n\t\t\t\t\t\tcontentTable.find('[data-module-name=\"' + module + '\"]').find('[data-action-state=\"Private\"]').attr('checked', 'checked');\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t},\n\n\tregisterEvents: function () {\n\t\tvar thisInstance = this;\n\t\tvar contentTable = this.getContentTable();\n\t\tvar contentContainer = this.getContentContainer();\n\t\tthisInstance.registerSharingAccessEdit();\n\t\tthisInstance.registerDependentModulesPrivilegesChange();\n\n\t\tcontentTable.on('click', 'td.triggerCustomSharingAccess', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar trElement = element.closest('tr');\n\t\t\tvar moduleName = trElement.data('moduleName');\n\t\t\tvar customRuleListContainer = jQuery('.' + thisInstance.getCustomRuleContainerClassName(moduleName), contentTable);\n\t\t\tif (customRuleListContainer.length > 0) {\n\t\t\t\tif (app.isHidden(customRuleListContainer)) {\n\t\t\t\t\tcustomRuleListContainer.show();\n\t\t\t\t\tjQuery('.ruleListContainer', customRuleListContainer).slideDown('slow');\n\t\t\t\t\ttrElement.addClass('collapseRow');\n\t\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\t\telement.find('button.arrowUp').removeClass('d-none').show();\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('.ruleListContainer', customRuleListContainer).slideUp('slow', function (e) {\n\t\t\t\t\t\tcustomRuleListContainer.css('display', 'none');\n\t\t\t\t\t});\n\t\t\t\t\telement.find('button.arrowUp').addClass('d-none');\n\t\t\t\t\telement.find('button.arrowDown').removeClass('d-none').show();\n\t\t\t\t\ttrElement.removeClass('collapseRow');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthisInstance.getCustomRules(moduleName).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tthisInstance.showCustomRulesNextToElement(trElement, data);\n\t\t\t\telement.find('button.arrowDown').addClass('d-none');\n\t\t\t\telement.find('button.arrowUp').removeClass('d-none').show();\n\t\t\t});\n\t\t});\n\t\tcontentTable.on('click', '.js-add-custom-rule', function (e) {\n\t\t\tvar button = jQuery(e.currentTarget);\n\t\t\tthisInstance.editCustomRule(button.data('url'));\n\t\t});\n\t\tcontentTable.on('click', '.js-edit', function (e) {\n\t\t\tvar editElement = jQuery(e.currentTarget);\n\t\t\tvar editUrl = editElement.data('url');\n\t\t\tthisInstance.editCustomRule(editUrl);\n\t\t});\n\t\tcontentTable.on('click', '.js-delete', function (e) {\n\t\t\tvar deleteElement = jQuery(e.currentTarget);\n\t\t\tthisInstance.deleteCustomRule(deleteElement);\n\t\t});\n\t\tcontentContainer.on('submit', '#js-edit-sharing-access', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\tvar data = form.serializeFormData();\n\t\t\tthisInstance.save(data).done(function (data) {\n\t\t\t\tcontentContainer.find('button:submit').addClass('d-none');\n\t\t\t\tthisInstance.registerSharingAccessEdit();\n\t\t\t\tvar params = {\n\t\t\t\t\ttext: app.vtranslate('JS_NEW_SHARING_RULES_APPLIED_SUCCESSFULLY'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t};\n\t\t\t\tthisInstance.showNotify(params);\n\t\t\t});\n\t\t});\n\t}\n});\n\njQuery(document).ready(function () {\n\tvar settingSharingAcessInstance = new Settings_Sharing_Access_Js();\n\tsettingSharingAcessInstance.registerEvents();\n});\n"],"names":["jQuery","Class","contentTable","contentsContainer","init","setContentTable","setContentContainer","element","getContentTable","getContentContainer","getCustomRuleContainerClassName","parentModuleName","showCustomRulesNextToElement","parentElement","rulesListElement","data","trElementForRuleList","moduleName","append","css","after","addClass","slideDown","getCustomRules","forModule","Deferred","params","app","getModuleName","getParentModuleName","AppConnector","request","done","aDeferred","resolve","fail","error","reject","promise","save","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","saveCustomRule","form","serializeFormData","module","parent","action","mode","hideModalWindow","thisInstance","displaySaveCustomRuleResponse","val","loadCustomRulesList","customRuleListContainer","find","html","success","text","vtranslate","type","showNotify","customParams","delay","Vtiger_Helper_Js","showPnotify","editCustomRule","url","showModalWindow","modalContainer","on","e","preventDefault","$","currentTarget","formElement","deleteCustomRule","deleteElement","currentRow","closest","message","showConfirmationBox","deleteUrl","fadeOut","nextRows","nextAll","length","each","i","updatedNumber","parseInt","currentSequenceElement","remove","customRuleTable","removeClass","registerSharingAccessEdit","contentContainer","one","registerDependentModulesPrivilegesChange","container","modulesList","JSON","parse","dependentList","dependentPrivilege","is","bootbox","alert","index","attr","registerEvents","trElement","isHidden","show","slideUp","button","editUrl","editElement","document","ready","settingSharingAcessInstance"],"mappings":"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"}