'use strict';

Settings_Vtiger_Index_Js('Settings_Help_Index_Js',{registerPagination:function registerPagination(){var page=$('.pagination .pageNumber'),thisInstance=this;page.on('click',function(){thisInstance.loadContent('github',$(this).data('id'));});},resisterSaveKeys:function resisterSaveKeys(modal){var thisInstance=this,container=modal.find('.authModalContent');container.validationEngine(app.validationEngineOptions),container.find('.saveKeys').on('click',function(){if(container.validationEngine('validate')){var params={module:'Github',parent:app.getParentModuleName(),action:'SaveKeysAjax',username:$('[name="username"]').val(),client_id:$('[name="client_id"]').val(),token:$('[name="token"]').val()};container.progressIndicator({}),AppConnector.request(params).done(function(data){if(container.progressIndicator({mode:'hide'}),!1==data.result.success){var errorDiv=container.find('.errorMsg');errorDiv.removeClass('d-none'),errorDiv.html(app.vtranslate('JS_ERROR_KEY'));}else{app.hideModalWindow(),thisInstance.reloadContent();var params={title:app.vtranslate('JS_LBL_PERMISSION'),text:app.vtranslate('JS_AUTHORIZATION_COMPLETE'),type:'success'};Vtiger_Helper_Js.showMessage(params);}}).fail(function(){container.progressIndicator({mode:'hide'}),app.hideModalWindow();});}});},registerAuthorizedEvent:function registerAuthorizedEvent(){var thisInstance=this;$('.showModal').on('click',function(){app.showModalWindow($('.authModal'),function(container){thisInstance.resisterSaveKeys(container);});});},registerGithubEvents:function registerGithubEvents(container){var thisInstance=this;thisInstance.registerAuthorizedEvent(),thisInstance.registerPagination(),container.find('.js-switch--state, .js-switch--author').on('change',function(){thisInstance.loadContent('github',1);}),$('.addIssuesBtn').on('click',function(){var params={module:'Github',parent:app.getParentModuleName(),view:'AddIssue'};container.progressIndicator({}),AppConnector.request(params).done(function(data){container.progressIndicator({mode:'hide'}),app.showModalWindow(data,function(){thisInstance.loadEditorElement(),thisInstance.registerSaveIssues();});});});},registerEventsLoadContent:function registerEventsLoadContent(thisInstance,mode,container){thisInstance.registerGithubEvents(container);}});
//# sourceMappingURL=Index.min.js.map
