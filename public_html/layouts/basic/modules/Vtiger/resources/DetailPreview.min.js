'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};

$.Class('Vtiger_DetailPreview_Js',{},{registerLinkEvent:function registerLinkEvent(){$('#page').on('click','a',function(e){e.preventDefault();var target=$(this);(!target.closest('div').hasClass('fieldValue')||target.hasClass('showReferenceTooltip'))&&target.attr('href')&&'#'!=target.attr('href')&&(top.location.href=target.attr('href'));});},updateParentFrame:function updateParentFrame(){parent.app.getPageController().updateWindowHeight($('.mainContainer').height(),$(window.frameElement));},updateWindowHeight:function updateWindowHeight(currentHeight,frame){var thisInstance=this,relatedContents=frame.closest('.relatedContents'),fixedListHeight=relatedContents.find('.js-list-preview--scroll').height();frame.height(currentHeight),fixedListHeight>currentHeight&&(currentHeight=fixedListHeight),relatedContents.find('.gutter, .js-list-preview, .js-side-block, .js-list-detail, .recordsListPreview').height(currentHeight),window.frameElement&&thisInstance.updateParentFrame();},registerSizeEvent:function registerSizeEvent(){var thisInstance=this;new ResizeSensor($('.mainContainer'),function(){thisInstance.updateParentFrame();});},registerDetailEvent:function registerDetailEvent(){var moduleClassName=app.getModuleName()+'_Detail_Js',parent=!1;'undefined'==typeof window[moduleClassName]&&(moduleClassName='Vtiger_Detail_Js'),'undefined'!=typeof window[moduleClassName]&&('function'==typeof window[moduleClassName]&&(parent=new window[moduleClassName]),'object'===_typeof(window[moduleClassName])&&(parent=window[moduleClassName]),parent&&parent.registerEvents());},registerEvents:function registerEvents(){this.registerDetailEvent(),this.registerLinkEvent(),this.registerSizeEvent();}});
//# sourceMappingURL=DetailPreview.min.js.map
